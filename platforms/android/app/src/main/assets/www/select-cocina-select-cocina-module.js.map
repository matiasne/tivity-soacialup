{"version":3,"sources":["./src/app/select-cocina/select-cocina.page.html","./src/app/select-cocina/select-cocina-routing.module.ts","./src/app/select-cocina/select-cocina.module.ts","./src/app/select-cocina/select-cocina.page.scss","./src/app/select-cocina/select-cocina.page.ts"],"names":[],"mappings":"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","file":"select-cocina-select-cocina-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>    \\n    <ion-title>Seleccionar Cocina</ion-title>    \\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content style=\\\"margin-top: 50px;\\\" class=\\\"ion-padding\\\">  \\n  <ion-searchbar animated \\n    placeholder=\\\"Buscar nombre\\\"\\n    animated=\\\"true\\\"\\n    showCancelButton=\\\"never\\\" \\n    color=\\\"light\\\" \\n    autocomplete=\\\"on\\\"\\n    enterkeyhint=\\\"send\\\"\\n    inputmode=\\\"text\\\"\\n    type=\\\"text\\\"\\n    debounce=\\\"300\\\"\\n    value=\\\"{{palabraFiltro}}\\\"\\n    (ionChange)=\\\"onChange($event)\\\">\\n  </ion-searchbar>\\n\\n  <ion-list lines=\\\"none\\\">   \\n    \\n    <ion-item-sliding *ngFor=\\\"let item of clientes\\\" class=\\\"item-card\\\" >    \\n\\n        <ion-item (click)=\\\"seleccionar(item)\\\" >\\n          <div slot=\\\"start\\\">\\n            <img src=\\\"{{item.foto}}\\\" *ngIf=\\\"item.foto\\\">\\n            <ion-icon name=\\\"person-outline\\\" *ngIf=\\\"!item.foto\\\"></ion-icon>\\n          </div>      \\n          <ion-label text-wrap>\\n            <h2><b>{{item.nombre}}</b> </h2>\\n          </ion-label>  \\n        </ion-item>\\n      \\n        <ion-item-options side=\\\"end\\\">\\n          <ion-item-option (click)=\\\"editar(item)\\\"><ion-icon name=\\\"create\\\" ></ion-icon> Editar</ion-item-option>\\n        </ion-item-options>\\n  \\n      </ion-item-sliding>\\n\\n \\n  </ion-list>\\n  <!-- fab placed to the bottom end -->\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" (click)=\\\"nuevo()\\\">\\n    <ion-fab-button>\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n  <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"verMas()\\\">\\n    <ion-infinite-scroll-content\\n      loadingSpinner=\\\"bubbles\\\"\\n      loadingText=\\\"Cargando mÃ¡s cocinas...\\\">\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n  \\n</ion-content>\\n<ion-footer class=\\\"ion-no-border ion-padding\\\">\\n  <ion-toolbar>    \\n    <ion-button class=\\\"button-rounded\\\" slot=\\\"start\\\"  color=\\\"light\\\" (click)=\\\"cancelar()\\\">Cancelar</ion-button>\\n  </ion-toolbar>\\n</ion-footer>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SelectCocinaPage } from './select-cocina.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SelectCocinaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SelectCocinaPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SelectCocinaPageRoutingModule } from './select-cocina-routing.module';\n\nimport { SelectCocinaPage } from './select-cocina.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SelectCocinaPageRoutingModule\n  ],\n  declarations: [SelectCocinaPage]\n})\nexport class SelectCocinaPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NlbGVjdC1jb2NpbmEvc2VsZWN0LWNvY2luYS5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { IonInfiniteScroll, LoadingController, ModalController } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\nimport { FormCocinaPage } from '../form-cocina/form-cocina.page';\nimport { Cocina } from '../models/cocina';\nimport { CocinasService } from '../Services/cocinas.service';\nimport { LoadingService } from '../Services/loading.service';\n\n@Component({\n  selector: 'app-select-cocina',\n  templateUrl: './select-cocina.page.html',\n  styleUrls: ['./select-cocina.page.scss'],\n})\nexport class SelectCocinaPage implements OnInit {\n\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n  \n  items:any = [];\n  public itemsAll:any = [];\n  public subsItems: Subscription;\n  public palabraFiltro = \"\";\n  public ultimoItem = \"\";\n  public loadingActive = false;\n  public cocinasSubs:Subscription;\n  public ultimoCocina:Cocina;\n  public cocinas = [];\n  public clientes = [];\n  \n  constructor(\n    public modalController: ModalController,\n    public loadingController: LoadingController,\n    private router: Router,\n    private route: ActivatedRoute,\n    public cocinasService:CocinasService,\n    public modalCtrl: ModalController,\n    public loadingService:LoadingService\n  ) { }\n\n  ngOnInit() {      \n    this.ultimoCocina  =new Cocina();\n    this.cocinas = [];\n    this.ultimoItem = \"\";\n    this.verMas();\n  }\n\n  ionViewDidEnter(){    \n    if(this.route.snapshot.params.filtro)\n      this.palabraFiltro = this.route.snapshot.params.filtro;   \n  }\n\n  ionViewDidLeave(){\n    this.subsItems.unsubscribe(); \n  }\n\n  onChange(event){\n    this.palabraFiltro = event.target.value;\n    this.ultimoCocina = new Cocina();\n    this.cocinas = [];\n    this.verMas();\n  }\n\n  verMas(){\n    let limit = 5;\n    var palabra = this.palabraFiltro.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n\n    this.cocinasSubs = this.cocinasService.search(limit,\"nombre\",palabra,this.ultimoCocina.nombre).subscribe((snapshot) => {\n     \n      this.loadingService.dismissLoading();\n     \n      snapshot.forEach((snap: any) => {         \n        var producto = snap.payload.doc.data();\n        producto.id = snap.payload.doc.id; \n        producto.enCarrito = 0;\n        this.cocinas.push(producto);    \n        \n      });  \n\n      this.ultimoCocina = this.cocinas[this.cocinas.length-1];\n      \n      this.infiniteScroll.complete();\n      this.infiniteScroll.disabled = false;\n\n      if (this.cocinas.length < limit) {\n        this.infiniteScroll.disabled = true;\n      }      \n      console.log(this.cocinas);         \n      this.cocinasSubs.unsubscribe();\n    });    \n  }\n\n  seleccionar(item){\n    this.modalCtrl.dismiss({\n      'item': item\n    });\n  }\n  \n  nuevo(){    \n    this.modalCtrl.dismiss(\"nuevo\");\n  }  \n\n  async editar(item){    \n    this.loadingService.presentLoading();\n    const modal = await this.modalController.create({\n      component: FormCocinaPage,\n      componentProps:{\n        id:item.id\n      }      \n    });\n    \n    modal.present().then(()=>{\n      \n    })\n\n    modal.onDidDismiss()\n    .then((retorno) => {\n      if(retorno.data){        \n          this.palabraFiltro = retorno.data.item.nombre;\n      }   \n      this.ultimoCocina = new Cocina();\n      this.cocinas = [];\n      this.verMas();            \n    });\n    return await modal.present();\n}\n\n  cancelar(){\n    this.modalCtrl.dismiss();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}