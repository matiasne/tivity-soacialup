{"version":3,"sources":["./src/app/form-mesa/form-mesa.page.html","./src/app/Services/mesas.service.ts","./src/app/form-mesa/form-mesa.page.scss","./src/app/form-mesa/form-mesa.page.ts","./src/app/models/mesa.ts"],"names":[],"mappings":"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","file":"default~details-carrito-details-carrito-module~details-pedido-details-pedido-module~form-mesa-form-m~86b973f4.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{titulo}}</ion-title>    \\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">  \\n    <form [formGroup]=\\\"datosForm\\\">\\n      <div [ngClass]=\\\"{'form-card': true, 'form-card-error': submitted && !datosForm.controls.nombre.valid}\\\">\\n        <ion-text color=\\\"primary\\\">\\n          <h4>Nombre *</h4>        \\n        </ion-text>            \\n        <ion-item>\\n          <ion-input name=\\\"nombre\\\" type=\\\"text\\\" formControlName=\\\"nombre\\\" required></ion-input>\\n        </ion-item>\\n        <div *ngIf=\\\"submitted && f.nombre.errors\\\" class=\\\"invalid-feedback\\\">\\n            <div *ngIf=\\\"f.nombre.errors.required\\\"><h5>Ingresa el nombre de la mesa</h5></div>\\n        </div> \\n      </div>\\n    </form>\\n    <a href=\\\"{{url}}\\\" target=\\\"_blank\\\">{{url}}</a> \\n    <ion-card class=\\\"form-card\\\"> \\n      <ngx-qrcode \\n          [elementType]=\\\"elementType\\\" \\n          [value] = \\\"value\\\"\\n          cssClass = \\\"aclass\\\"\\n          errorCorrectionLevel = \\\"L\\\">\\n      </ngx-qrcode>\\n    </ion-card>\\n\\n    <ion-item>\\n      <ion-label>Habilitar Comandas Por Carta Digital</ion-label>\\n      <ion-toggle [(ngModel)]=\\\"mesa.habilitarComandasApp\\\"></ion-toggle>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label>Habilitar Llamador de mozo</ion-label>\\n      <ion-toggle [(ngModel)]=\\\"mesa.habilitarLlamadorMozoApp\\\"></ion-toggle>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label>Habilitar Notificaciones:</ion-label>\\n      <ion-toggle [(ngModel)]=\\\"mesa.habilitarNotificaciones\\\"></ion-toggle>\\n    </ion-item>\\n\\n    <div *ngIf=\\\"mesa.habilitarNotificaciones\\\">\\n      <ion-item  class=\\\"item-card\\\">\\n        <ion-button  size=\\\"large\\\" (click)=\\\"agregarEncargado()\\\"  expand=\\\"block\\\">Asignar Usuario * </ion-button>\\n      </ion-item>\\n\\n      <ion-item-sliding *ngFor=\\\"let encargado of encargados;let i= index\\\" class=\\\"item-card\\\" >    \\n        <ion-item>\\n          <div slot=\\\"start\\\">\\n            <ion-icon name=\\\"person-outline\\\"></ion-icon>\\n          </div>   \\n          <ion-label>\\n            <h3>{{encargado.userEmail}}</h3>\\n            <p>Estado invitacion: \\n              <span *ngIf=\\\"encargado.estado == 'pendiente'\\\" style=\\\"color:blue\\\">{{encargado.estado}}</span>\\n              <span *ngIf=\\\"encargado.estado == 'aceptado'\\\" style=\\\"color:green\\\">{{encargado.estado}}</span>\\n              <span *ngIf=\\\"encargado.estado == 'rechazado'\\\" style=\\\"color:red\\\">{{encargado.estado}}</span>\\n            </p>\\n          </ion-label>            \\n        </ion-item>\\n        <ion-item-options side=\\\"end\\\">\\n          <ion-item-option (click)=\\\"eliminarEncargado(i)\\\"><ion-icon name=\\\"trash\\\" ></ion-icon>Destituir</ion-item-option>\\n        </ion-item-options>\\n      </ion-item-sliding>\\n    </div> \\n    \\n    <ion-button *ngIf=\\\"updating\\\" class=\\\"button-rounded\\\"  color=\\\"danger\\\" (click)=\\\"elimiar()\\\">Eliminar Mesa</ion-button>\\n \\n    \\n</ion-content>\\n<ion-footer class=\\\"ion-no-border ion-padding\\\">\\n  <ion-toolbar>\\n    <ion-button class=\\\"button-rounded\\\" slot=\\\"end\\\" (click)=\\\"guardar()\\\">Guardar</ion-button>    \\n    <ion-button class=\\\"button-rounded\\\" slot=\\\"start\\\"  color=\\\"light\\\" (click)=\\\"cancelar()\\\">Cancelar</ion-button>\\n  </ion-toolbar>\\n</ion-footer>\";","import { Injectable } from '@angular/core';\nimport { Mesa } from '../models/mesa';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { BaseService } from './base.service';\nimport { ComerciosService } from './comercios.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MesasService extends BaseService {\n\n  constructor(\n    protected afs: AngularFirestore,\n    private comerciosService:ComerciosService\n    ) {     \n      super(afs); \n      this.comerciosService.getSelectedCommerce().subscribe(data=>{\n        // let comercio_seleccionadoId = localStorage.getItem('comercio_seleccionadoId'); \n        if(data){\n          \n          this.setPath('comercios/'+data.id+'/mesas')   \n         }\n        \n      })\n  }\n\n\n \n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Zvcm0tbWVzYS9mb3JtLW1lc2EucGFnZS5zY3NzIn0= */\";","import { Component, Input, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { NavController, ModalController, AlertController, NavParams } from '@ionic/angular';\nimport { CategoriasService } from '../Services/categorias.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { Mesa } from '../models/mesa';\nimport { MesasService } from '../Services/mesas.service';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { FormInvitacionPage } from '../form-invitacion/form-invitacion.page';\nimport { ToastService } from '../Services/toast.service';\n\n@Component({\n  selector: 'app-form-mesa',\n  templateUrl: './form-mesa.page.html',\n  styleUrls: ['./form-mesa.page.scss'],\n})\nexport class FormMesaPage implements OnInit {\n\n  @Input() mesa:Mesa \n  datosForm: FormGroup;\n  submitted = false;\n\n  public updating:boolean = false;\n  public comercioId = \"\";\n  //public mesa:Mesa;\n\n  public title = 'app';\n  public elementType = 'url';\n  public value = 'Techiediaries';\n\n  public encargados =[];  \n  public rolesNuevos = [];\n  public titulo =\"\";\n\n  public url=\"\";\n  \n  constructor(\n    private formBuilder: FormBuilder,\n    public modalCtrl: ModalController,\n    public alertController: AlertController,\n    private mesasServices:MesasService,\n    private firestore: AngularFirestore,\n    private toastServices:ToastService,\n    private navParams:NavParams\n    \n    \n  ) {\n    this.datosForm = this.formBuilder.group({\n      nombre: ['', Validators.required],\n    });    \n  }\n\n  ngOnInit() {\n\n    this.mesa = new Mesa();  \n\n    let comercio_seleccionadoId = localStorage.getItem('comercio_seleccionadoId');\n    this.comercioId = comercio_seleccionadoId;\n    this.datosForm = this.formBuilder.group({\n      nombre: ['', Validators.required],\n    });\n\n    if(this.navParams.get('mesa')){\n      this.mesa.asignarValores(this.navParams.get('mesa'))\n      console.log(this.mesa)\n      \n      this.datosForm = this.formBuilder.group({\n        nombre: [this.mesa.nombre, Validators.required],\n      });       \n\n      this.updating = true;\n        this.titulo = \"Editar Mesa\";\n\n      this.url = \"https://socialup.web.app/details-comercio;id=\"+comercio_seleccionadoId+\";mesaId=\"+this.mesa.id;\n      this.create(this.url);\n      \n    }   \n    else{\n      this.titulo = \"Nueva Mesa\";\n      this.mesa.id = this.firestore.createId();\n      this.mesa.comercioId = comercio_seleccionadoId; \n      this.value = \"https://socialup.web.app\";\n      this.create(\"https://socialup.web.app/details-comercio;id=\"+comercio_seleccionadoId+\";mesaId=\"+this.mesa.id);\n    }    \n   \n   \n   \n\n  }\n\n  \n\n  async agregarEncargado(){\n    const modal = await this.modalCtrl.create({\n      component: FormInvitacionPage,\n      componentProps: {\n        rol:\"encargado\"      \n      }\n    });\n    modal.onDidDismiss()\n    .then((retorno) => {\n      if(retorno.data){   \n      }        \n    });\n    return await modal.present();\n  }\n\n  eliminarEncargado(index){  \n    \n  }\n\n\n  public create(data) {\n    this.value =data;\n  }\n\n  get f() { return this.datosForm.controls; }\n\n  guardar(){\n\n    this.submitted = true;\n    // stop here if form is invalid\n\n    if (this.datosForm.invalid) {\n      this.toastServices.alert('Por favor completar todos los campos marcados con * antes de continuar',\"\");\n      return;\n    }   \n\n    this.mesa.nombre = this.datosForm.controls.nombre.value;    \n\n    if(this.updating){\n      this.mesasServices.update(this.mesa);\n    }\n    else{\n      this.mesasServices.set(this.mesa.id,this.mesa);\n    }\n\n    this.modalCtrl.dismiss({\n      'item': this.mesa\n    }); \n  }\n\n  cancelar(){\n    this.modalCtrl.dismiss();    \n  }\n\n  elimiar(){\n    this.presentAlertEliminar();\n  }\n\n  async presentAlertEliminar() {\n    const alert = await this.alertController.create({\n      header: 'Eliminar',\n      message: 'Está seguro que desea eliminar la mesa?',\n      buttons: [\n        {\n          text: 'Cancelar',\n          handler: (blah) => {\n            \n          }\n        }, {\n          text: 'Eliminar',\n          handler: () => {\n            this.mesasServices.delete(this.mesa.id);\n            this.modalCtrl.dismiss();\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n}\n","export class Mesa{\r\n    public id =\"\";\r\n    public comercioId = \"\";\r\n    public nombre=\"\";\r\n    public foto=\"\";\r\n    public rolEncargados = [];\r\n    public habilitarNotificaciones = false;\r\n    public recibePedidosApp = false;\r\n    public habilitarLlamadorMozoApp = false;\r\n    public habilitarComandasApp = false;\r\n    public productos = [];\r\n    public cobrado = false;\r\n    \r\n\tconstructor(\r\n\t\t\r\n\t\t){\r\n    }\r\n    \r\n    public asignarValores(init?: Partial<Mesa>) {\r\n        Object.assign(this, init);\r\n    }\r\n}"],"sourceRoot":"webpack:///"}