{"version":3,"sources":["./src/app/select-empleado/select-empleado.page.html","./src/app/select-empleado/select-empleado-routing.module.ts","./src/app/select-empleado/select-empleado.module.ts","./src/app/select-empleado/select-empleado.page.scss","./src/app/select-empleado/select-empleado.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,gUAAiQ,oIAAoI,oBAAoB,kRAAkR,WAAW,uKAAuK,gBAAgB,4BAA4B,UAAU,qWAAqW,E;;;;;;;;;;;;;;;;;;;ACA9tC;AACc;AAEK;AAE5D,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,wEAAkB;KAC9B;CACF,CAAC;AAMF,IAAa,+BAA+B,GAA5C,MAAa,+BAA+B;CAAG;AAAlC,+BAA+B;IAJ3C,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,+BAA+B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBH;AACM;AACF;AAEA;AAEsC;AAEvB;AAW5D,IAAa,wBAAwB,GAArC,MAAa,wBAAwB;CAAG;AAA3B,wBAAwB;IATpC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,+FAA+B;SAChC;QACD,YAAY,EAAE,CAAC,wEAAkB,CAAC;KACnC,CAAC;GACW,wBAAwB,CAAG;AAAH;;;;;;;;;;;;;ACnBrC;AAAe,6GAA8C,+JAA+J,E;;;;;;;;;;;;;;;;;;;;;ACA1K;AACO;AACM;AAEd;AACR;AAOzC,IAAa,kBAAkB,GAA/B,MAAa,kBAAkB;IAO7B,YACS,YAAyB,EACzB,eAA+B,EAC/B,SAA0B,EAC1B,MAAa;QAHb,iBAAY,GAAZ,YAAY,CAAa;QACzB,oBAAe,GAAf,eAAe,CAAgB;QAC/B,cAAS,GAAT,SAAS,CAAiB;QAC1B,WAAM,GAAN,MAAM,CAAO;QATtB,UAAK,GAAO,EAAE,CAAC;QACR,aAAQ,GAAO,EAAE,CAAC;QAElB,kBAAa,GAAG,EAAE,CAAC;IAOtB,CAAC;IAEL,QAAQ;QACN,IAAI,uBAAuB,GAAG,YAAY,CAAC,OAAO,CAAC,yBAAyB,CAAC,CAAC;QAE9E,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,uBAAuB,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;YAEjG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBACtB,IAAI,GAAG,GAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;gBACtC,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;gBAC7B,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAE1B,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,MAAM,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,MAAM;QACJ,IAAG,IAAI,CAAC,aAAa,IAAI,EAAE,EAAC;YAC1B,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;YAChB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBAC3B,IAAG,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,EAAC;oBACtE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACtB,OAAO;iBACR;gBAED,IAAG,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,EAAC;oBACnE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACtB,OAAO;iBACR;YAEH,CAAC,CAAC,CAAC;SACJ;aACG;YACF,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC;SAC5B;IACH,CAAC;IAED,WAAW,CAAC,IAAI;QACd,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;YACrB,MAAM,EAAE,IAAI;SACb,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAED,OAAO;QACL,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;CAEF;;YA5DuB,oEAAY;YACT,0EAAe;YACpB,8DAAe;YACnB,sDAAM;;AAXX,kBAAkB;IAL9B,+DAAS,CAAC;QACT,QAAQ,EAAE,qBAAqB;QAC/B,+OAA0C;;KAE3C,CAAC;GACW,kBAAkB,CAoE9B;AApE8B","file":"select-empleado-select-empleado-module.js","sourcesContent":["export default \"<ion-header>  \\n  <ion-buttons slot=\\\"start\\\">\\n    <ion-back-button></ion-back-button>\\n  </ion-buttons>   \\n  <ion-toolbar> \\n    <ion-title>Seleccionar Empleado</ion-title>    \\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content style=\\\"margin-top: 50px;\\\" class=\\\"ion-padding\\\">  \\n  \\n  <ion-row>    \\n    <ion-input placeholder=\\\"Buscar\\\" style=\\\"border:1px solid rgb(206, 206, 206); border-radius: 5px;\\\"\\n    [(ngModel)]=\\\"palabraFiltro\\\" (ionChange)=\\\"buscar()\\\"\\n    ></ion-input>\\n  </ion-row>\\n  \\n  <ion-list lines=\\\"none\\\">\\n    <ion-item *ngFor=\\\"let item of items\\\" (click)=\\\"seleccionar(item)\\\" class=\\\"item-card\\\">\\n      <div slot=\\\"start\\\">\\n        <img src=\\\"{{item.foto}}\\\" *ngIf=\\\"item.foto\\\">\\n        <ion-icon name=\\\"person-outline\\\" *ngIf=\\\"!item.foto\\\"></ion-icon>\\n      </div>      \\n      <ion-label text-wrap>\\n        <h2><b>{{item.userEmail}}</b> </h2>   \\n        <p>{{item.rol}}</p>         \\n      </ion-label>  \\n    </ion-item>\\n  </ion-list>\\n\\n  <div class=\\\"space\\\">\\n    \\n  </div> \\n  \\n</ion-content>\\n<ion-footer class=\\\"ion-no-border ion-padding\\\">\\n  <ion-toolbar>    \\n    <ion-button class=\\\"button-rounded\\\" slot=\\\"start\\\"  color=\\\"light\\\" (click)=\\\"cancelar()\\\">Cancelar</ion-button>\\n  </ion-toolbar>\\n</ion-footer>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SelectEmpleadoPage } from './select-empleado.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SelectEmpleadoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SelectEmpleadoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SelectEmpleadoPageRoutingModule } from './select-empleado-routing.module';\n\nimport { SelectEmpleadoPage } from './select-empleado.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SelectEmpleadoPageRoutingModule\n  ],\n  declarations: [SelectEmpleadoPage]\n})\nexport class SelectEmpleadoPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NlbGVjdC1lbXBsZWFkby9zZWxlY3QtZW1wbGVhZG8ucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { RolesService } from '../Services/roles.service';\nimport { UsuariosService } from '../Services/usuarios.service';\nimport { Subscription } from 'rxjs';\nimport { ModalController } from '@ionic/angular';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-select-empleado',\n  templateUrl: './select-empleado.page.html',\n  styleUrls: ['./select-empleado.page.scss'],\n})\nexport class SelectEmpleadoPage implements OnInit {\n\n  items:any = [];\n  public itemsAll:any = [];\n  public subsItems: Subscription;\n  public palabraFiltro = \"\";\n\n  constructor(\n    public rolesService:RolesService,\n    public usuariosService:UsuariosService,\n    public modalCtrl: ModalController,\n    public router:Router\n  ) { }\n\n  ngOnInit() {\n    let comercio_seleccionadoId = localStorage.getItem('comercio_seleccionadoId'); \n    \n    var rolSub = this.rolesService.getAllRolesbyComercio(comercio_seleccionadoId).subscribe(snapshot =>{       \n      \n      snapshot.forEach(snap =>{\n        var rol:any = snap.payload.doc.data();\n        rol.id = snap.payload.doc.id;\n        console.log(rol);    \n        this.itemsAll.push(rol);      \n\n      });\n      this.buscar();\n      rolSub.unsubscribe();\n    });\n\n  }\n\n  buscar(){\n    if(this.palabraFiltro != \"\"){\n      this.items = [];\n      this.itemsAll.forEach(item => {\n        if(item.nombre.toLowerCase().includes(this.palabraFiltro.toLowerCase())){\n          this.items.push(item);\n          return;\n        }\n\n        if(item.rol.toLowerCase().includes(this.palabraFiltro.toLowerCase())){\n          this.items.push(item);\n          return;\n        }         \n\n      });     \n    }\n    else{\n      this.items = this.itemsAll;\n    }\n  }\n\n  seleccionar(item){\n    this.modalCtrl.dismiss({\n      'item': item\n    });\n  }\n\n  cancelar(){\n    this.modalCtrl.dismiss();\n  }\n\n  invitar(){\n    this.router.navigate(['form-invitacion']);\n    this.modalCtrl.dismiss();\n  }\n\n}\n\n"],"sourceRoot":"webpack:///"}