{"version":3,"sources":["./src/app/form-apertura-caja/form-apertura-caja.page.html","./src/app/form-apertura-caja/form-apertura-caja-routing.module.ts","./src/app/form-apertura-caja/form-apertura-caja.module.ts","./src/app/form-apertura-caja/form-apertura-caja.page.scss","./src/app/form-apertura-caja/form-apertura-caja.page.ts"],"names":[],"mappings":"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","file":"form-apertura-caja-form-apertura-caja-module.js","sourcesContent":["export default \"<ion-content  class=\\\"ion-padding\\\">  \\n\\n  <div class=\\\"form-card\\\">\\n    <ion-text color=\\\"primary\\\">\\n      <h4>Fecha de Apertura </h4> \\n    </ion-text>             \\n    {{fecha | date: 'dd/MM/yyyy h:mm a'}}\\n  </div> \\n \\n  <ion-text color=\\\"primary\\\">\\n    <h4>Ultimo Cierre: Efectivo {{caja.totalEfectivo | currency}}</h4>\\n  </ion-text>\\n\\n  <div>\\n    <ion-text color=\\\"primary\\\">\\n      <h4>Hay en Efectivo*</h4> \\n    </ion-text>             \\n    <ion-item>\\n      <ion-input type=\\\"number\\\" [(ngModel)]=\\\"efectivo\\\" required></ion-input>\\n    </ion-item>    \\n  </div>\\n\\n  <ion-text color=\\\"primary\\\">\\n    <h4>Ultimo Cierre: Debito {{caja.totalDebito | currency}}</h4>\\n  </ion-text>\\n\\n  <div>\\n    <ion-text color=\\\"primary\\\">\\n      <h4>Hay Débito*</h4> \\n    </ion-text>            \\n    <ion-item>\\n      <ion-input type=\\\"number\\\" [(ngModel)]=\\\"debito\\\" required></ion-input>\\n    </ion-item>    \\n  </div>\\n\\n  <ion-text color=\\\"primary\\\">\\n    <h4>Ultimo Cierre: Credito {{caja.totalCredito | currency}}</h4>\\n  </ion-text>\\n\\n  <div>\\n    <ion-text color=\\\"primary\\\">\\n      <h4>Hay Crédito*</h4> \\n    </ion-text>            \\n    <ion-item>\\n      <ion-input type=\\\"number\\\" [(ngModel)]=\\\"credito\\\" required></ion-input>\\n    </ion-item>    \\n  </div> \\n  \\n\\n  <ion-toolbar>\\n    <ion-button slot=\\\"end\\\" (click)=\\\"abrir()\\\">Abrir</ion-button>    \\n    <ion-button slot=\\\"start\\\"  color=\\\"light\\\" (click)=\\\"cancelar()\\\">Cancelar</ion-button>\\n  </ion-toolbar>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FormAperturaCajaPage } from './form-apertura-caja.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FormAperturaCajaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FormAperturaCajaPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FormAperturaCajaPageRoutingModule } from './form-apertura-caja-routing.module';\n\nimport { FormAperturaCajaPage } from './form-apertura-caja.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FormAperturaCajaPageRoutingModule\n  ],\n  declarations: [FormAperturaCajaPage]\n})\nexport class FormAperturaCajaPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Zvcm0tYXBlcnR1cmEtY2FqYS9mb3JtLWFwZXJ0dXJhLWNhamEucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { ActivatedRoute } from '@angular/router';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { AuthenticationService } from '../Services/authentication.service';\nimport { CajasService } from '../Services/cajas.service';\nimport { Caja } from '../models/caja';\nimport { EnumTipoMovimientoCaja, MovimientoCaja } from '../models/movimientoCaja';\nimport { MovimientosService } from '../Services/movimientos.service';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-form-apertura-caja',\n  templateUrl: './form-apertura-caja.page.html',\n  styleUrls: ['./form-apertura-caja.page.scss'],\n})\nexport class FormAperturaCajaPage implements OnInit {\n\n  private enumTipoMovimientoCaja = EnumTipoMovimientoCaja\n  \n  public datosForm: FormGroup;  \n  public fecha = new Date();\n  public cajaId = \"\";\n  submitted = false;\n  public totalActual=0;\n  public caja:Caja;\n\n  public efectivo = 0;\n  public debito = 0;\n  public credito = 0;\n\n  public movSub:Subscription;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private navCtrl: NavController,\n    private route: ActivatedRoute,\n    private authenticationService:AuthenticationService,\n    private cajasServices:CajasService,\n    private movimientosService:MovimientosService,\n    private firestore: AngularFirestore,\n  ) {\n    this.caja = new Caja();\n   }\n\n  ngOnInit() {\n\n    let comercio_seleccionadoId = localStorage.getItem('comercio_seleccionadoId');\n    this.movSub = this.cajasServices.get(this.route.snapshot.params.cajaId).subscribe(data =>{\n      this.caja.asignarValores(data);\n      console.log(this.caja)\n    })\n\n  }\n\n  ionViewDidLeave(){\n    this.movSub.unsubscribe();\n  }\n\n  abrir(){\n    this.submitted = true;\n\n    this.caja.estado = \"abierta\";\n\n    var aperturaEfectivo = new MovimientoCaja(this.authenticationService.getUID(),this.authenticationService.getEmail());\n    aperturaEfectivo.tipo = this.enumTipoMovimientoCaja.apertura;\n    aperturaEfectivo.cajaId = this.caja.id;\n    aperturaEfectivo.isApertura = true;\n    aperturaEfectivo.metodoPago = \"efectivo\";\n    aperturaEfectivo.monto = Number(this.efectivo);\n    this.movimientosService.add(aperturaEfectivo);\n\n    var aperturaDebito = new MovimientoCaja(this.authenticationService.getUID(),this.authenticationService.getEmail());\n    aperturaDebito.tipo = this.enumTipoMovimientoCaja.apertura;\n    aperturaDebito.cajaId = this.caja.id;\n    aperturaDebito.isApertura = true;\n    aperturaDebito.metodoPago = \"debito\";\n    aperturaDebito.monto = Number(this.debito);\n    this.movimientosService.add(aperturaDebito);\n\n    var aperturaCredito = new MovimientoCaja(this.authenticationService.getUID(),this.authenticationService.getEmail());\n    aperturaCredito.tipo = this.enumTipoMovimientoCaja.apertura;\n    aperturaCredito.metodoPago = \"credito\";\n    aperturaCredito.cajaId = this.caja.id;\n    aperturaCredito.isApertura = true;    \n    aperturaCredito.monto = Number(this.credito);\n    this.movimientosService.add(aperturaCredito);\n\n    this.caja.estado = \"abierta\";\n\n    this.caja.totalEfectivo = Number(this.efectivo);\n    this.caja.totalDebito = Number(this.debito);\n    this.caja.totalCredito = Number(this.credito);\n\n    this.actualizarMontosCaja()\n\n    this.cajasServices.update(this.caja);\n\n    this.navCtrl.back();\n  }\n\n  cancelar(){\n    this.navCtrl.back();\n  }\n\n  actualizarMontosCaja(){\n  \n    this.caja.totalEfectivo = Number(this.efectivo);\n    this.caja.totalDebito = Number(this.debito);\n    this.caja.totalCredito = Number(this.credito);\n\n  const param1 = JSON.parse(JSON.stringify(this.caja));\n  this.cajasServices.update(param1);\n}\n\n}\n\n\n\n"],"sourceRoot":"webpack:///"}