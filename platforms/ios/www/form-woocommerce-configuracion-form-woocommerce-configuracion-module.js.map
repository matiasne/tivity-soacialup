{"version":3,"sources":["./src/app/form-woocommerce-configuracion/form-woocommerce-configuracion.page.html","./src/app/Services/woocommerce/webhooks.service.ts","./src/app/form-woocommerce-configuracion/form-woocommerce-configuracion-routing.module.ts","./src/app/form-woocommerce-configuracion/form-woocommerce-configuracion.module.ts","./src/app/form-woocommerce-configuracion/form-woocommerce-configuracion.page.scss","./src/app/form-woocommerce-configuracion/form-woocommerce-configuracion.page.ts","./src/app/models/woocommerce/webhook.ts"],"names":[],"mappings":"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","file":"form-woocommerce-configuracion-form-woocommerce-configuracion-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title  size=\\\"small\\\">Integración Woocommerce</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n\\n  <div class=\\\"form-card\\\">\\n   \\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" color=\\\"primary\\\">Usuario</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"woocommerceConnection.user\\\" (ionChange)=\\\"cambiado()\\\"></ion-input>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" color=\\\"primary\\\">Contraseña</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"woocommerceConnection.password\\\" (ionChange)=\\\"cambiado()\\\"></ion-input>\\n    </ion-item>\\n  </div>\\n\\n  <div class=\\\"form-card\\\">\\n\\n    \\n    \\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" color=\\\"primary\\\">URL del sitio web</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"woocommerceConnection.url\\\" (ionChange)=\\\"cambiado()\\\"></ion-input>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" color=\\\"primary\\\">Consumer Key</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"woocommerceConnection.consumerKey\\\" (ionChange)=\\\"cambiado()\\\"></ion-input>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\" color=\\\"primary\\\">Consumer Secret</ion-label>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"woocommerceConnection.consumerSecret\\\" (ionChange)=\\\"cambiado()\\\"></ion-input>\\n    </ion-item>\\n\\n    <!--ion-button class=\\\"button-rounded\\\" slot=\\\"end\\\"  color=\\\"success\\\" (click)=\\\"guardar()\\\">Guardar</ion-button-->\\n\\n    <ion-button *ngIf=\\\"!woocommerceConnection.isOk\\\" class=\\\"button-rounded\\\" color=\\\"primary\\\" (click)=\\\"test()\\\">Conectar</ion-button>\\n    <ion-button *ngIf=\\\"woocommerceConnection.isOk\\\" class=\\\"button-rounded\\\" color=\\\"success\\\" (click)=\\\"test()\\\">Conexion OK</ion-button>\\n    <!--ion-grid>\\n      <ion-row>\\n        <ion-col>\\n        \\n        </ion-col>\\n        \\n      </ion-row>\\n      <ion-row>\\n          <ion-button class=\\\"button-rounded\\\" color=\\\"success\\\" (click)=\\\"sincronizar()\\\" [disabled]=\\\"progresoReceived != 0\\\" ><ion-icon name=\\\"sync-outline\\\"></ion-icon> Sincronizar</ion-button>\\n      </ion-row>\\n    </ion-grid-->\\n    \\n</div>  \\n<ion-progress-bar *ngIf=\\\"progresoSend != 0\\\"  [value]=\\\"progresoReceived\\\" [buffer]=\\\"progresoSend\\\"></ion-progress-bar>\\n    <p *ngIf=\\\"progresoSend != 0\\\">sincronizado: {{progresoReceived * 100}}%</p>\\n  \\n  \\n</ion-content>\\n<ion-footer>\\n  <ion-toolbar>   \\n    <ion-button class=\\\"button-rounded\\\" slot=\\\"start\\\"  color=\\\"light\\\" (click)=\\\"cancelar()\\\">Volver</ion-button>\\n    <ion-button  class=\\\"button-rounded\\\" slot=\\\"end\\\" color=\\\"primary\\\" (click)=\\\"guardar()\\\">Guardar</ion-button>\\n  </ion-toolbar> \\n</ion-footer>\\n\";","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { WebHook } from 'src/app/models/woocommerce/webhook';\nimport { ComerciosService } from '../comercios.service';\nimport { WordpressService } from '../wordpress/wordpress.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WebhooksService {\n\n  \n  private comercio:any\n  private apiUrl:string = '';\n  private siteURL:string  = ''\n  private woocommercePart:string = '/wp-json/wc/v3/';\n  private tipoItem = \"webhooks\"\n  constructor(\n    private http:HttpClient,\n    private comerciosService:ComerciosService,\n    private wordpressService:WordpressService,\n  ) { }\n\n  getAll(){\n    let httpHeaders = new HttpHeaders({\n       'Content-Type' : 'application/json',\n       'Authorization' : 'Bearer '+this.wordpressService.getToken()\n     });      \n     let options = {\n       headers: httpHeaders\n     };     \n\n    this.comercio = this.comerciosService.getSelectedCommerceValue()\n    this.apiUrl = this.comercio.woocommerce.url+this.woocommercePart+this.tipoItem+\"?consumer_key=\"+this.comercio.woocommerce.consumerKey+\"&consumer_secret=\"+this.comercio.woocommerce.consumerSecret\n    return this.http.get(this.apiUrl,options); \n  }\n\n  postOne(data){\n\n    \n    this.comercio = this.comerciosService.getSelectedCommerceValue()\n    this.apiUrl = this.comercio.woocommerce.url+this.woocommercePart+this.tipoItem+\"?consumer_key=\"+this.comercio.woocommerce.consumerKey+\"&consumer_secret=\"+this.comercio.woocommerce.consumerSecret\n\n    let httpHeaders = new HttpHeaders({\n     // 'Access-Control-Allow-Origin':'*',\n    //  'Access-Control-Allow-Methods': 'GET,HEAD,OPTIONS,POST,PUT',\n    //  'Access-Control-Allow-Headers': 'Access-Control-Allow-Methods, Access-Control-Allow-Headers, Origin,Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers',\n      'Content-Type' : 'application/json',\n      'Authorization' : 'Bearer '+this.wordpressService.getToken()\n    });      \n    let options = {\n      headers: httpHeaders\n    };     \n\n    return this.http.post(this.apiUrl,data,options); \n\n  }\n\n  \n  updateOne(id, data){\n    this.comercio = this.comerciosService.getSelectedCommerceValue()\n    this.apiUrl = this.comercio.woocommerce.url+this.woocommercePart+this.tipoItem+\"/\"+id+\"?consumer_key=\"+this.comercio.woocommerce.consumerKey+\"&consumer_secret=\"+this.comercio.woocommerce.consumerSecret\n\n    let httpHeaders = new HttpHeaders({\n      // 'Access-Control-Allow-Origin':'*',\n     //  'Access-Control-Allow-Methods': 'GET,HEAD,OPTIONS,POST,PUT',\n     //  'Access-Control-Allow-Headers': 'Access-Control-Allow-Methods, Access-Control-Allow-Headers, Origin,Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers',\n       'Content-Type' : 'application/json',\n       'Authorization' : 'Bearer '+this.wordpressService.getToken()\n     });      \n     let options = {\n       headers: httpHeaders\n     };     \n     \n    return this.http.put(this.apiUrl,data,options); \n  }\n\n\n  async pause(){\n    let webhooks:any = await this.getAll().toPromise()\n    for(let w of webhooks){\n      let webhook = new WebHook()\n      webhook.asignarValores(w) //esto para que cargue las variables a los productos viejos aunque sea vacias\n\n      console.log(\"pause\")\n      webhook.status = \"paused\"\n      console.log(webhooks)\n      try{\n        let resp =await this.updateOne(webhook.id,webhook).toPromise()\n        console.log(\"Webhook pausado\")\n      }catch(err){\n        console.log(err)\n      }\n      \n    }\n  }\n\n\n  async enable(){\n    let webhooks:any = await this.getAll().toPromise()\n    for(let w of webhooks){\n      let webhook = new WebHook()\n      webhook.asignarValores(w) //esto para que cargue las variables a los productos viejos aunque sea vacias\n\n      webhook.status =\"active\"\n      try{\n        await this.updateOne(webhook.id,webhook).toPromise()\n        console.log(\"webhook habilitado\")\n      }\n      catch(err){\n        console.log(err)\n      }\n      \n    }\n  }\n\n  async sincronizar(){\n    let nuevoProducto = false;\n    let nuevoPedido = false;\n\n    try{\n      let webhooks:any = await this.getAll().toPromise()\n      for(const wh of webhooks){\n        if(wh.name == \"Nuevo Pedido Firebase\")\n          nuevoPedido = true\n      \n        if(wh.name == 'Nuevo Producto Firebase')\n          nuevoProducto = true\n     }\n\n     \n/*\n     if(!nuevoProducto){\n      let webhook = new WebHook()\n      webhook.name = \"Nuevo Producto Firebase\"\n      webhook.status = \"active\"\n      webhook.topic =\"product.created\"\n      webhook.resource = \"product\"\n      webhook.event = \"created\"\n      webhook.delivery_url = \"https://us-central1-comercios-admin-socialup.cloudfunctions.net/api/woocommerce/NuevoProducto?comercioId=\"+this.comerciosService.getSelectedCommerceValue().id\n      webhook.date_created = new Date().toDateString()\n      webhook.hooks=[\n        \"woocommerce_process_product_meta\",\n        \"woocommerce_new_product\",\n        \"woocommerce_new_product_variation\"\n      ]\n\n     \n        \n     }\n     else{\n      console.log(\"Webhook nuevo producto ya existe\")\n    }*/\n\n     if(!nuevoPedido){\n      \n        let webhook = new WebHook()\n        webhook.name = \"Nuevo Pedido Firebase\"\n        webhook.status = \"active\"\n        webhook.topic =\"order.created\"\n        webhook.resource = \"order\"\n        webhook.event = \"created\"\n        webhook.delivery_url = \"https://us-central1-comercios-admin-socialup.cloudfunctions.net/api/woocommerce/NuevoPedido?comercioId=\"+this.comerciosService.getSelectedCommerceValue().id\n        webhook.date_created = new Date().toDateString()\n        webhook.hooks=[\n          \"woocommerce_new_order\"\n        ]\n\n        await this.postOne(webhook).toPromise()\n      }\n      else{\n        console.log(\"Webhook nuevo pedido ya existe\")\n      }\n\n    }\n    catch(err){\n      console.log(err)\n    }\n    \n     \n\n    \n  }\n\n  \n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FormWoocommerceConfiguracionPage } from './form-woocommerce-configuracion.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FormWoocommerceConfiguracionPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FormWoocommerceConfiguracionPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FormWoocommerceConfiguracionPageRoutingModule } from './form-woocommerce-configuracion-routing.module';\n\nimport { FormWoocommerceConfiguracionPage } from './form-woocommerce-configuracion.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FormWoocommerceConfiguracionPageRoutingModule\n  ],\n  declarations: [FormWoocommerceConfiguracionPage]\n})\nexport class FormWoocommerceConfiguracionPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Zvcm0td29vY29tbWVyY2UtY29uZmlndXJhY2lvbi9mb3JtLXdvb2NvbW1lcmNlLWNvbmZpZ3VyYWNpb24ucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { AlertController, NavController } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\nimport { Comercio } from '../models/comercio';\nimport { CategoriasService } from '../Services/categorias.service';\nimport { ComerciosService } from '../Services/comercios.service';\nimport { LoadingService } from '../Services/loading.service';\nimport { ProductosService } from '../Services/productos.service';\nimport { ToastService } from '../Services/toast.service';\nimport { CategoriesService } from '../Services/woocommerce/categories.service';\nimport { WebhooksService } from '../Services/woocommerce/webhooks.service';\nimport { WoocommerceService } from '../Services/woocommerce/woocommerce.service';\nimport { WordpressService } from '../Services/wordpress/wordpress.service';\n\n@Component({\n  selector: 'app-form-woocommerce-configuracion',\n  templateUrl: './form-woocommerce-configuracion.page.html',\n  styleUrls: ['./form-woocommerce-configuracion.page.scss'],\n})\nexport class FormWoocommerceConfiguracionPage implements OnInit {\n\n  public comercio:Comercio\n  public subsItemsProd: Subscription;\n  public productos = []\n\n  public url\n  public consumerKey\n  public consumerSecret\n\n  public progresoReceived = 0;\n  public progresoSend = 0;\n\n  public actualizar = false;\n  public conexionOk = false;\n\n  public woocommerceConnection = {\n    comercioId:\"\",\n    user:\"\",\n    password:\"\",\n    url:\"\",\n    consumerKey:\"\",\n    consumerSecret:\"\",\n    isOk:\"false\"\n  }\n\n  constructor(\n    private comerciosService:ComerciosService,\n    private navCtrl:NavController,\n    private productosServices:ProductosService,\n    private woocommerceService:WoocommerceService,\n    private wordpressService:WordpressService,\n    private alertController:AlertController,\n    private loadingService:LoadingService,\n    private categoriasService:CategoriasService,\n    private webhooksService:WebhooksService,\n    private toastService:ToastService\n  ) { \n    this.comercio = new Comercio()\n\n  }\n\n  ngOnInit() {\n    this.comercio = this.comerciosService.getSelectedCommerceValue()\n    this.comerciosService.getWoocommerceValue(this.comercio.id).subscribe(data=>{\n      this.woocommerceConnection = data;\n      this.woocommerceConnection.comercioId = this.comercio.id\n      console.log(this.woocommerceConnection)\n    })\n  }\n\n\n  cancelar(){\n    this.navCtrl.back()\n  }\n\n  async guardar(){\n    this.comerciosService.updateWoocommerceValues(this.comercio.id,this.woocommerceConnection).then(data=>{\n      console.log(\"Guardados\")\n    })\n  }\n\n  test(){\n    \n    this.comerciosService.updateWoocommerceValues(this.comercio.id,this.woocommerceConnection).then(data=>{\n      this.conectar()\n    },err=>{\n      console.log(\"No se pudo guardar\")\n    })\n   \n  }\n\n  async conectar(){\n\n    try{\n      await this.wordpressService.login()\n    }\n    catch(err){\n      console.log(err)\n      \n\n      if(err.status == 0){\n        this.toastService.alert(\"Error\",\"No se puede conectar con la URL\")\n        \n        \n      }\n      else{\n        this.toastService.alert(\"Error\",err.error.message)\n      }\n\n      this.woocommerceConnection.isOk = \"false\";\n      this.comerciosService.updateWoocommerceValues(this.comercio.id,this.woocommerceConnection).then(data=>{\n        console.log(\"Update\")\n      })\n      return false\n    }\n\n    \n    this.loadingService.presentLoadingText(\"Probando conexión...\")\n    this.woocommerceService.getAll().then(data=>{\n      console.log(data)\n      this.conexionOk = true;\n      this.woocommerceConnection.isOk = \"true\";\n      this.comerciosService.updateWoocommerceValues(this.comercio.id,this.woocommerceConnection).then(data=>{\n        console.log(\"Update\")\n      })\n      this.loadingService.dismissLoading();\n      let obs = this.categoriasService.list().subscribe(categorias =>{\n        obs.unsubscribe()\n        categorias.forEach(cat =>{\n          this.categoriasService.updateWoocommerceValues(cat.id,{sincronizado:true})\n        })        \n      })\n    },err=>{\n      console.log(err)\n      if(err.status == 0){\n        this.toastService.alert(\"Error\",\"No se puede conectar con la URL\")\n        this.woocommerceConnection.isOk = \"false\";\n        this.comerciosService.updateWoocommerceValues(this.comercio.id,this.woocommerceConnection).then(data=>{\n          console.log(\"Update\")\n        })\n      }\n      else{\n        this.toastService.alert(\"Error\",err.error.message)\n        this.woocommerceConnection.isOk = \"false\";\n        this.comerciosService.updateWoocommerceValues(this.comercio.id,this.woocommerceConnection).then(data=>{\n          console.log(\"Update\")\n        })\n      }\n      this.conexionOk = false;\n      this.woocommerceConnection.isOk = \"false\";\n      this.comerciosService.updateWoocommerceValues(this.comercio.id,this.woocommerceConnection).then(data=>{\n        console.log(\"Update\")\n      })\n      this.loadingService.dismissLoading();\n    })\n  }\n\n /* async sincronizar(){\n    this.actualizar = false;\n    this.progresoReceived = 0;\n    this.progresoSend = 0; \n    \n    await this.webhooksService.pause()\n    await this.webhooksService.sincronizar()\n\n    let resp = await this.WCCategoriesService.syncFirebaseToWC()   \n   // console.log(resp)\n    resp = await this.woocommerceService.syncFirebaseToWC()  \n  //  console.log(resp)\n    await this.webhooksService.enable()\n    \n  }*/\n\n\n  downloadData(){\n    \n  }\n\n\n  cambiado(){\n    this.actualizar = true;\n  }\n\n  async mostrarMensaje(mensaje){\n    const alert = await this.alertController.create({\n      header: 'Resultado',\n      message: mensaje,\n      buttons: [\n        {\n          text: 'Ok',\n          handler: () => {                \n          }\n        }\n      ]\n    });\n\n    alert.onDidDismiss().then(()=>{\n\n    })\n    await alert.present();    \n  }\n\n\n  \n}\n","export class WebHook{    \r\n    public id:number\r\n    public name:string\r\n    public status:string\r\n    public topic:string\r\n    public resource:string\r\n    public event:string\r\n    public delivery_url:string\r\n    public date_created:string\r\n    public hooks = []\r\n\r\n    public asignarValores(init?: Partial<WebHook>) {\r\n        Object.assign(this, init);\r\n    }\r\n}"],"sourceRoot":"webpack:///"}