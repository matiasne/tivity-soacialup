{"version":3,"sources":["./src/app/list-horarios/list-horarios.page.html","./src/app/list-horarios/list-horarios-routing.module.ts","./src/app/list-horarios/list-horarios.module.ts","./src/app/list-horarios/list-horarios.page.scss","./src/app/list-horarios/list-horarios.page.ts"],"names":[],"mappings":"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","file":"list-horarios-list-horarios-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title  size=\\\"small\\\">Horarios</ion-title>\\n  </ion-toolbar> \\n</ion-header> \\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-list lines=\\\"none\\\"> \\n    <ion-text color=\\\"primary\\\">\\n      <h4>Horarios Disponibles</h4>\\n    </ion-text> \\n\\n    <div *ngIf=\\\"buscando\\\" class=\\\"mensaje FadeOut FadeIn\\\">\\n      <img src=\\\"../../assets/img/buscando.fw.png\\\" alt=\\\"\\\">\\n      <p>Cargando comandas, aguarde unos segundos por favor</p>\\n    </div>\\n  \\n    <div *ngIf=\\\"!buscando && comercio.horarios.length == 0\\\" class=\\\"mensaje FadeOut FadeIn\\\">\\n      <img src=\\\"../../assets/img/horarios.fw.png\\\" alt=\\\"\\\">\\n      <p>No tienes horarios configurados.</p>\\n    </div>\\n\\n    \\n    <ion-item-sliding *ngFor=\\\"let horario of comercio.horarios;let i=index\\\" class=\\\"item-card\\\">\\n\\n      <ion-item>       \\n        <ion-label>\\n          {{horario.nombre}} desde  {{horario.desde | date: 'h:mm a'}} hasta {{horario.hasta | date: 'h:mm a'}}        \\n        </ion-label> \\n      </ion-item>    \\n\\n      <ion-item-options side=\\\"end\\\">\\n        <ion-item-option (click)=\\\"eliminarHorario(i)\\\"><ion-icon name=\\\"trash\\\" ></ion-icon> Borrar</ion-item-option>\\n      </ion-item-options>\\n    </ion-item-sliding>\\n    \\n\\n  </ion-list>\\n\\n  \\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" (click)=\\\"openAddHorario()\\\">\\n    <ion-fab-button>\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ListHorariosPage } from './list-horarios.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ListHorariosPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ListHorariosPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ListHorariosPageRoutingModule } from './list-horarios-routing.module';\n\nimport { ListHorariosPage } from './list-horarios.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ListHorariosPageRoutingModule\n  ],\n  declarations: [ListHorariosPage]\n})\nexport class ListHorariosPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xpc3QtaG9yYXJpb3MvbGlzdC1ob3Jhcmlvcy5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { HorariosService } from '../Services/horarios.service';\nimport { FormHorarioPage } from '../form-horario/form-horario.page';\nimport { ModalController, AlertController } from '@ionic/angular';\nimport { ComerciosService } from '../Services/comercios.service';\nimport { Comercio } from '../models/comercio';\n\n@Component({\n  selector: 'app-list-horarios',\n  templateUrl: './list-horarios.page.html',\n  styleUrls: ['./list-horarios.page.scss'],\n})\nexport class ListHorariosPage implements OnInit {\n\n  public horariosSubs:Subscription;\n  public horarios = [];\n  public comercio:Comercio;\n  public buscando = true;\n  constructor(\n    private comercioService:ComerciosService,\n    private modalController:ModalController,\n    private alertController:AlertController\n  ) { \n    this.comercio = new Comercio();\n  }\n\n  ngOnInit() {\n\n    let comercio_seleccionadoId = localStorage.getItem('comercio_seleccionadoId');\n    this.horariosSubs = this.comercioService.get(comercio_seleccionadoId).subscribe(snap=>{                 \n      this.comercio.asignarValores(snap.payload.data());\n      this.comercio.id = snap.payload.id;\n      this.buscando = false;\n    });  \n    \n  }\n\n  ionViewDidLeave(){\n    this.horariosSubs.unsubscribe();\n  }\n\n  async openAddHorario(){\n    let comercio_seleccionadoId = localStorage.getItem('comercio_seleccionadoId');\n    const modal = await this.modalController.create({\n      component: FormHorarioPage,   \n      componentProps: { \n        comercioId:comercio_seleccionadoId\n      } \n    });  \n    modal.onDidDismiss()\n    .then((retorno) => {\n      if(retorno.data)\n        this.comercio.horarios.push(retorno.data);     \n        this.comercioService.update(this.comercio);   \n    });\n    return await modal.present();\n  }\n\n  async eliminarHorario(index){\n\n    const alert = await this.alertController.create({\n      header: 'EstÃ¡ seguro que desea eliminar el horario?',\n      message: '',\n      buttons: [\n        {\n          text: 'Cancelar',\n          handler: (blah) => {\n            \n          }\n        }, {\n          text: 'Eliminar',\n          handler: () => {         \n            console.log(index);       \n            this.comercio.horarios.splice(index,1); \n            this.comercioService.update(this.comercio);   \n          }\n        }\n      ]\n    });\n    await alert.present();\n\n    \n  }\n\n}\n"],"sourceRoot":"webpack:///"}