{"version":3,"sources":["./src/app/list-comercios-owner/list-comercios-owner.page.html","./src/app/list-comercios-owner/list-comercios-owner-routing.module.ts","./src/app/list-comercios-owner/list-comercios-owner.module.ts","./src/app/list-comercios-owner/list-comercios-owner.page.scss","./src/app/list-comercios-owner/list-comercios-owner.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,uTAAwP,oBAAoB,+TAA+T,eAAe,6KAA6K,aAAa,8BAA8B,gBAAgB,oTAAoT,E;;;;;;;;;;;;;;;;;;;ACA5lC;AACc;AAEc;AAErE,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,iFAAsB;KAClC;CACF,CAAC;AAMF,IAAa,mCAAmC,GAAhD,MAAa,mCAAmC;CAAG;AAAtC,mCAAmC;IAJ/C,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,mCAAmC,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBP;AACM;AACF;AAEA;AAE+C;AAEvB;AAWrE,IAAa,4BAA4B,GAAzC,MAAa,4BAA4B;CAAG;AAA/B,4BAA4B;IATxC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,wGAAmC;SACpC;QACD,YAAY,EAAE,CAAC,iFAAsB,CAAC;KACvC,CAAC;GACW,4BAA4B,CAAG;AAAH;;;;;;;;;;;;;ACnBzC;AAAe,6GAA8C,2KAA2K,E;;;;;;;;;;;;;;;;;;;;;;ACAtL;AACe;AAER;AACW;AACX;AACI;AAO7D,IAAa,sBAAsB,GAAnC,MAAa,sBAAsB;IASjC,YACS,eAAgC,EAChC,iBAAoC,EACnC,MAAc,EACd,KAAqB,EACrB,aAA0B,EAC3B,iBAAkC,EAClC,SAA0B,EAC1B,cAA6B;QAP7B,oBAAe,GAAf,eAAe,CAAiB;QAChC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACnC,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAgB;QACrB,kBAAa,GAAb,aAAa,CAAa;QAC3B,sBAAiB,GAAjB,iBAAiB,CAAiB;QAClC,cAAS,GAAT,SAAS,CAAiB;QAC1B,mBAAc,GAAd,cAAc,CAAe;QAftC,UAAK,GAAO,EAAE,CAAC;QACR,aAAQ,GAAO,EAAE,CAAC;QAElB,kBAAa,GAAG,EAAE,CAAC;QACnB,eAAU,GAAG,EAAE,CAAC;QAChB,kBAAa,GAAG,KAAK,CAAC;IAWzB,CAAC;IAEL,QAAQ;IAER,CAAC;IAED,eAAe;QACb,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM;YAClC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC;QACzD,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAED,eAAe;QACb,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;IAC/B,CAAC;IAED,MAAM;QACJ,IAAG,IAAI,CAAC,aAAa,IAAI,EAAE,EAAC;YAC1B,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;YAChB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;gBAC3B,IAAG,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,EAAC;oBACtE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACtB,OAAO;iBACR;gBAED,IAAG,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,EAAC;oBACzE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACtB,OAAO;iBACR;YACH,CAAC,CAAC,CAAC;SACJ;aACG;YACF,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC;SAC5B;IACH,CAAC;IAED,YAAY;QAEV,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE,CAAC;QACrC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,CAAC,SAAS,CAAC,CAAC,QAAQ,EAAE,EAAE;YAEzE,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YACnB,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAS,EAAE,EAAE;gBAC7B,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;gBACnC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;gBAC9B,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,IAAI,GAAE;oBAC1D,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;oBACjC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;gBAC1C,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;YAGH,IAAI,CAAC,cAAc,CAAC,cAAc,EAAE,CAAC;YAErC,IAAI,CAAC,MAAM,EAAE,CAAC;QAEhB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW,CAAC,IAAI;QACd,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;YACrB,MAAM,EAAE,IAAI;SACb,CAAC,CAAC;IACL,CAAC;IAED,MAAM,CAAC,IAAI;IAEX,CAAC;CAGF;;YA/E2B,8DAAe;YACb,gEAAiB;YAC3B,sDAAM;YACP,8DAAc;YACP,oEAAY;YACT,4EAAgB;YACvB,8DAAe;YACX,wEAAc;;AAjB3B,sBAAsB;IALlC,+DAAS,CAAC;QACT,QAAQ,EAAE,0BAA0B;QACpC,8PAA+C;;KAEhD,CAAC;GACW,sBAAsB,CAyFlC;AAzFkC","file":"list-comercios-owner-list-comercios-owner-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title  size=\\\"small\\\">list-comercios-owner</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-row>\\n    \\n    <ion-input placeholder=\\\"Buscar\\\" style=\\\"border:1px solid rgb(206, 206, 206); border-radius: 5px;\\\"\\n    [(ngModel)]=\\\"palabraFiltro\\\" (ionChange)=\\\"buscar()\\\"\\n    ></ion-input>\\n\\n  </ion-row>\\n\\n  <ion-list lines=\\\"none\\\">   \\n    \\n    <ion-item-sliding *ngFor=\\\"let item of items\\\" class=\\\"item-card\\\">    \\n\\n      <ion-item (click)=\\\"seleccionar(item)\\\">\\n        <div slot=\\\"start\\\">\\n          <img src=\\\"{{item.photoURL}}\\\" *ngIf=\\\"item.foto\\\">\\n          <ion-icon name=\\\"home-outline\\\" *ngIf=\\\"!item.foto\\\"></ion-icon>\\n        </div>      \\n        <ion-label text-wrap>\\n          <h2><b>{{item.nombre}}</b> </h2>   \\n          <p>{{item.direccion}}</p>         \\n        </ion-label>  \\n      </ion-item>\\n    \\n      <ion-item-options side=\\\"end\\\">\\n        <ion-item-option (click)=\\\"editar(item)\\\"><ion-icon name=\\\"create\\\" ></ion-icon> Editar</ion-item-option>\\n      </ion-item-options>\\n\\n    </ion-item-sliding>\\n\\n\\n  </ion-list>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ListComerciosOwnerPage } from './list-comercios-owner.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ListComerciosOwnerPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ListComerciosOwnerPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ListComerciosOwnerPageRoutingModule } from './list-comercios-owner-routing.module';\n\nimport { ListComerciosOwnerPage } from './list-comercios-owner.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ListComerciosOwnerPageRoutingModule\n  ],\n  declarations: [ListComerciosOwnerPage]\n})\nexport class ListComerciosOwnerPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xpc3QtY29tZXJjaW9zLW93bmVyL2xpc3QtY29tZXJjaW9zLW93bmVyLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { ComerciosService } from '../Services/comercios.service';\nimport { Subscription } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ModalController, LoadingController } from '@ionic/angular';\nimport { RolesService } from '../Services/roles.service';\nimport { LoadingService } from '../Services/loading.service';\n\n@Component({\n  selector: 'app-list-comercios-owner',\n  templateUrl: './list-comercios-owner.page.html',\n  styleUrls: ['./list-comercios-owner.page.scss'],\n})\nexport class ListComerciosOwnerPage implements OnInit {\n\n  items:any = [];\n  public itemsAll:any = [];\n  public subsItems: Subscription;\n  public palabraFiltro = \"\";\n  public ultimoItem = \"\";\n  public loadingActive = false;\n  \n  constructor(\n    public modalController: ModalController,\n    public loadingController: LoadingController,\n    private router: Router,\n    private route: ActivatedRoute,\n    private rolesServices:RolesService,\n    public comerciosServices:ComerciosService,\n    public modalCtrl: ModalController,\n    public loadingService:LoadingService\n  ) { }\n\n  ngOnInit() {    \n    \n  }\n\n  ionViewDidEnter(){\n    this.ultimoItem = \"\";\n    if(this.route.snapshot.params.filtro)\n      this.palabraFiltro = this.route.snapshot.params.filtro;\n    this.obtenerTodos();\n  }\n\n  ionViewDidLeave(){\n    this.subsItems.unsubscribe(); \n  }\n\n  buscar(){\n    if(this.palabraFiltro != \"\"){\n      this.items = [];\n      this.itemsAll.forEach(item => {\n        if(item.nombre.toLowerCase().includes(this.palabraFiltro.toLowerCase())){\n          this.items.push(item);\n          return;\n        }\n\n        if(item.direccion.toLowerCase().includes(this.palabraFiltro.toLowerCase())){\n          this.items.push(item);\n          return;\n        }        \n      });     \n    }\n    else{\n      this.items = this.itemsAll;\n    }\n  }\n\n  obtenerTodos(){\n   \n    this.loadingService.presentLoading();\n    this.subsItems = this.rolesServices.getAllOwnerId().subscribe((snapshot) => {\n     \n      this.itemsAll = [];  \n      snapshot.forEach((snap: any) => {        \n        var item = snap.payload.doc.data();\n        item.id = snap.payload.doc.id;        \n        this.comerciosServices.get(item.comercioId).subscribe(snap=>{\n          console.log(snap.payload.data());      \n          this.itemsAll.push(snap.payload.data());\n        })\n      });\n     \n  \n      this.loadingService.dismissLoading(); \n      \n      this.buscar();\n      \n    });\n  }\n\n  seleccionar(item){\n    this.modalCtrl.dismiss({\n      'item': item\n    });\n  }\n\n  editar(item){\n    \n  }\n\n\n}\n"],"sourceRoot":"webpack:///"}