{"version":3,"sources":["./src/app/list-comandas-v2/list-comandas-v2.page.html","./src/app/Services/cocinas.service.ts","./src/app/list-comandas-v2/list-comandas-v2-routing.module.ts","./src/app/list-comandas-v2/list-comandas-v2.module.ts","./src/app/list-comandas-v2/list-comandas-v2.page.scss","./src/app/list-comandas-v2/list-comandas-v2.page.ts"],"names":[],"mappings":"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","file":"list-comandas-v2-list-comandas-v2-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title  size=\\\"small\\\">Comandas</ion-title>    \\n  </ion-toolbar>\\n</ion-header>\\n<ion-toolbar [hidden]=\\\"devWidth > 576\\\">\\n  <ion-segment (ionChange)=\\\"segmentChanged($event)\\\">\\n    <ion-segment-button value=\\\"rechazados\\\">Rechazados ({{itemsRechazados.length}})</ion-segment-button>\\n    <ion-segment-button value=\\\"pendientes\\\">Pendientes ({{itemsPendientes.length}})</ion-segment-button>\\n    <ion-segment-button value=\\\"proceso\\\">En proceso ({{itemsProceso.length}})</ion-segment-button>\\n    <ion-segment-button value=\\\"listas\\\">Listas ({{itemsListas.length}})</ion-segment-button>\\n  </ion-segment>\\n</ion-toolbar>\\n\\n<ion-content class=\\\"ion-padding\\\" style=\\\"margin-top: 50px;\\\">  \\n  <ion-item class=\\\"form-select\\\"> \\n    <ion-label position=\\\"floating\\\">Desde</ion-label>\\n    <ion-select multiple=false (ionChange)=\\\"onChangeAtras($event)\\\">\\n      <ion-select-option  [value]=\\\"1\\\" selected>Ayer</ion-select-option>\\n      <ion-select-option  [value]=\\\"2\\\">2 días atras</ion-select-option>\\n      <ion-select-option  [value]=\\\"7\\\">Una semana atrás</ion-select-option>\\n    </ion-select>       \\n  </ion-item> \\n  <ion-row>\\n    <ion-col size=\\\"8\\\"> \\n      <ion-searchbar animated \\n        placeholder=\\\"Buscar por cliente o mesa\\\"\\n        animated=\\\"true\\\"\\n        showCancelButton=\\\"never\\\" \\n        color=\\\"light\\\" \\n        autocomplete=\\\"on\\\"\\n        enterkeyhint=\\\"send\\\"\\n        inputmode=\\\"text\\\"\\n        type=\\\"text\\\"\\n        debounce=\\\"300\\\"\\n        value=\\\"{{palabraFiltro}}\\\"\\n        (ionChange)=\\\"onChange($event)\\\">\\n      </ion-searchbar>\\n    </ion-col>    \\n    <ion-col size=\\\"4\\\">\\n      <ion-item class=\\\"form-select\\\"> \\n        <ion-label position=\\\"floating\\\">Cocina</ion-label>\\n        <ion-select multiple=\\\"true\\\" (ionChange)=\\\"onChangeCocina($event)\\\" [(ngModel)]=\\\"cocinaFiltro\\\">\\n          <ion-select-option *ngFor=\\\"let cocina of cocinas\\\" [value]=\\\"cocina.id\\\" selected>{{cocina.nombre}}</ion-select-option>\\n        </ion-select>       \\n      </ion-item>  \\n    </ion-col>\\n  </ion-row>\\n  \\n\\n\\n  <span [hidden]=\\\"devWidth > 576\\\">\\n    \\n    <ion-list class=\\\"item-card\\\" lines=\\\"none\\\" *ngIf=\\\"seccionActiva == 'pendientes'\\\">     \\n      <div *ngFor=\\\"let item of itemsPendientes\\\">   \\n        <app-card-comanda-v2 [pedido]=\\\"item\\\" [cocinasFiltro]=\\\"cocinaFiltro\\\" (ver)=\\\"abrir(item)\\\"></app-card-comanda-v2>\\n      </div>\\n    </ion-list>\\n\\n    <ion-list lines=\\\"none\\\" *ngIf=\\\"seccionActiva == 'proceso'\\\">     \\n      <div *ngFor=\\\"let item of itemsProceso\\\">   \\n        <app-card-comanda-v2  [pedido]=\\\"item\\\" [cocinasFiltro]=\\\"cocinaFiltro\\\" (ver)=\\\"abrir(item)\\\"></app-card-comanda-v2>\\n      </div>\\n    </ion-list> \\n\\n    <ion-list lines=\\\"none\\\" *ngIf=\\\"seccionActiva == 'listas'\\\">     \\n      <div *ngFor=\\\"let item of itemsListas\\\">   \\n        <app-card-comanda-v2  [pedido]=\\\"item\\\" [cocinasFiltro]=\\\"cocinaFiltro\\\" (ver)=\\\"abrir(item)\\\"></app-card-comanda-v2>\\n      </div>\\n    </ion-list>\\n\\n    <ion-list lines=\\\"none\\\" *ngIf=\\\"seccionActiva == 'rechazados'\\\">     \\n      <div *ngFor=\\\"let item of itemsRechazados\\\">   \\n        <app-card-comanda-v2 [pedido]=\\\"item\\\" [cocinasFiltro]=\\\"cocinaFiltro\\\" (ver)=\\\"abrir(item)\\\"></app-card-comanda-v2>\\n      </div>\\n    </ion-list>\\n\\n  </span>\\n\\n  <span [hidden]=\\\"devWidth < 576\\\">\\n    <ion-grid>\\n      <ion-row>        \\n        <ion-col>\\n          <ion-list lines=\\\"none\\\">   \\n            <h5>Pendientes ({{itemsPendientes.length}})</h5>  \\n            <div *ngFor=\\\"let item of itemsPendientes\\\">   \\n              <app-card-comanda-v2  [pedido]=\\\"item\\\" [cocinasFiltro]=\\\"cocinaFiltro\\\" (ver)=\\\"abrir(item)\\\"></app-card-comanda-v2>\\n            </div>\\n          </ion-list> \\n        </ion-col>\\n        <ion-col>\\n          <ion-list lines=\\\"none\\\">  \\n            <h5>En Proceso ({{itemsProceso.length}})</h5>    \\n            <div *ngFor=\\\"let item of itemsProceso\\\">   \\n              <app-card-comanda-v2  [pedido]=\\\"item\\\" [cocinasFiltro]=\\\"cocinaFiltro\\\" (ver)=\\\"abrir(item)\\\"></app-card-comanda-v2>\\n            </div>\\n          </ion-list> \\n        </ion-col>\\n        <ion-col> \\n          <ion-list lines=\\\"none\\\">  \\n            <h5>Listas  ({{itemsListas.length}})</h5>     \\n            <div *ngFor=\\\"let item of itemsListas\\\">   \\n              <app-card-comanda-v2  [pedido]=\\\"item\\\" [cocinasFiltro]=\\\"cocinaFiltro\\\" (ver)=\\\"abrir(item)\\\"></app-card-comanda-v2>\\n            </div>\\n          </ion-list> \\n        </ion-col>\\n        <ion-col>\\n          <ion-list lines=\\\"none\\\">   \\n            <h5>Suspendidos ({{itemsRechazados.length}})</h5>  \\n            <div *ngFor=\\\"let item of itemsRechazados\\\">   \\n              <app-card-comanda-v2  [pedido]=\\\"item\\\" [cocinasFiltro]=\\\"cocinaFiltro\\\" (ver)=\\\"abrir(item)\\\"></app-card-comanda-v2>\\n            </div>\\n          </ion-list> \\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </span>\\n \\n  \\n  <div *ngIf=\\\"buscando\\\" class=\\\"mensaje FadeOut FadeIn\\\">\\n    <img src=\\\"../../assets/img/buscando.fw.png\\\" alt=\\\"\\\">\\n    <p>Cargando comandas, aguarde unos segundos por favor</p>\\n  </div>\\n\\n  <div *ngIf=\\\"!buscando && pedidosAll.length == 0\\\" class=\\\"mensaje FadeOut FadeIn\\\">\\n    <img src=\\\"../../assets/img/comandas.fw.png\\\" alt=\\\"\\\">\\n    <p>Aún no tienes comandas</p>\\n  </div>\\n  \\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" >\\n    <ion-fab-button (click)=\\\"nuevoPedido()\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n</ion-content>\\n\\n\";","import { Injectable } from '@angular/core';\nimport { Mesa } from '../models/mesa';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { BaseService } from './base.service';\nimport { ComerciosService } from './comercios.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CocinasService extends BaseService{\n\n  constructor(\n    protected afs: AngularFirestore,\n    private comerciosService:ComerciosService\n    ) {     \n      super(afs); \n      this.comerciosService.getSelectedCommerce().subscribe(data=>{\n        // let comercio_seleccionadoId = localStorage.getItem('comercio_seleccionadoId'); \n        if(data){\n         \n         this.setPath('comercios/'+data.id+'/cocinas')   \n        }\n        \n      })\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ListComandasV2Page } from './list-comandas-v2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ListComandasV2Page\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ListComandasV2PageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ListComandasV2PageRoutingModule } from './list-comandas-v2-routing.module';\n\nimport { ListComandasV2Page } from './list-comandas-v2.page';\nimport { ComponentsModule } from '../Components/components.module';\n\n@NgModule({\n  imports: [ \n    CommonModule,\n    ComponentsModule,\n    FormsModule,\n    IonicModule,\n    ListComandasV2PageRoutingModule\n  ],\n  declarations: [ListComandasV2Page]\n})\nexport class ListComandasV2PageModule {}\n","export default \"ion-list {\\n  text-align: center;\\n  background-color: white;\\n  border-style: none !important;\\n  border-bottom: none;\\n  border-radius: 15px;\\n  border-top: none;\\n  margin-bottom: 16px;\\n  box-shadow: 0px 2px 5px -2px rgba(0, 0, 0, 0.32);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGlzdC1jb21hbmRhcy12Mi9DOlxcUHJveWVjdG9zXFxXZWJBcHBzXFx0aXZpdHkvc3JjXFxhcHBcXGxpc3QtY29tYW5kYXMtdjJcXGxpc3QtY29tYW5kYXMtdjIucGFnZS5zY3NzIiwic3JjL2FwcC9saXN0LWNvbWFuZGFzLXYyL2xpc3QtY29tYW5kYXMtdjIucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSx1QkFBQTtFQUNGLDZCQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFHQSxnREFBQTtBQ0NGIiwiZmlsZSI6InNyYy9hcHAvbGlzdC1jb21hbmRhcy12Mi9saXN0LWNvbWFuZGFzLXYyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1saXN0e1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgYm9yZGVyLXN0eWxlOiBub25lICFpbXBvcnRhbnQ7ICBcclxuICBib3JkZXItYm90dG9tOiBub25lO1xyXG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbiAgYm9yZGVyLXRvcDogbm9uZTsgXHJcbiAgbWFyZ2luLWJvdHRvbTogMTZweDtcclxuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAycHggNXB4IC0ycHggcmdiYSgwLDAsMCwwLjMyKTtcclxuICAtbW96LWJveC1zaGFkb3c6IDBweCAycHggNXB4IC0ycHggcmdiYSgwLDAsMCwwLjMyKTtcclxuICBib3gtc2hhZG93OiAwcHggMnB4IDVweCAtMnB4IHJnYmEoMCwwLDAsMC4zMik7XHJcbn0iLCJpb24tbGlzdCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGJvcmRlci1zdHlsZTogbm9uZSAhaW1wb3J0YW50O1xuICBib3JkZXItYm90dG9tOiBub25lO1xuICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICBib3JkZXItdG9wOiBub25lO1xuICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAycHggNXB4IC0ycHggcmdiYSgwLCAwLCAwLCAwLjMyKTtcbiAgLW1vei1ib3gtc2hhZG93OiAwcHggMnB4IDVweCAtMnB4IHJnYmEoMCwgMCwgMCwgMC4zMik7XG4gIGJveC1zaGFkb3c6IDBweCAycHggNXB4IC0ycHggcmdiYSgwLCAwLCAwLCAwLjMyKTtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { ComentariosService } from '../Services/comentarios.service';\nimport { LoadingService } from '../Services/loading.service';\nimport { PedidoService } from '../Services/pedido.service';\nimport { EnumEstadoCocina } from 'src/app/models/item';\nimport { CocinasService } from '../Services/cocinas.service';\nimport { AlertController, ModalController, Platform } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { Pedido } from '../models/pedido';\nimport { DetailsPedidoPage } from '../details-pedido/details-pedido.page';\nimport { NavegacionParametrosService } from '../Services/global/navegacion-parametros.service';\nimport { DetailsComandaPage } from '../details-comanda/details-comanda.page';\n\n@Component({\n  selector: 'app-list-comandas-v2',\n  templateUrl: './list-comandas-v2.page.html',\n  styleUrls: ['./list-comandas-v2.page.scss'],\n})\nexport class ListComandasV2Page implements OnInit {\n\n  public pedidosAll = [];\n\n  public itemsComandas =[];\n  public itemsPedidos = [];\n\n  public itemsPendientes = [];\n  public itemsProceso = [];\n  public itemsListas = [];\n  public itemsRechazados = []\n\n  public items = [];\n\n  public cocinas = [];\n  public subsPedidosComercio:Subscription;\n  public seccionActiva = \"pendientes\";\n  public devWidth;\n  public palabraFiltro =\"\";\n  public cocinaFiltro = [];\n  public todas =\"\";\n\n  public obsPedidos:any\n\n  public fechaDesde = new Date();\n  public fechaHasta = new Date();\n\n  public buscando = true;\n\n  constructor(\n    private pedidosService:PedidoService,\n    private loadingService:LoadingService,\n    private comentariosService:ComentariosService,\n    private cocinasService:CocinasService,\n    private alertController:AlertController,\n    private router:Router,  \n    private platform:Platform,\n    private modalController:ModalController,\n    private navParametrosService:NavegacionParametrosService\n  ) { \n    this.devWidth = this.platform.width();\n    this.fechaDesde.setDate(this.fechaDesde.getDate() - 2);    \n    this.fechaHasta.setDate(this.fechaHasta.getDate() + 1); \n  }\n\n  ngOnInit() {\n\n    this.loadingService.presentLoadingText(\"Cargando Pedidos\")\n\n    this.cocinasService.list().subscribe((data) => {     \n      this.cocinas = data;\n      if(this.cocinas.length == 0){\n        this.presentAlertCrearCocinas();\n      }\n    })\n    this.refrescar()\n  }\n\n  refrescar(){\n  \n    if(this.obsPedidos){\n      this.obsPedidos.unsubscribe();\n    } \n\n    this.obsPedidos = this.pedidosService.listFecha(this.fechaDesde,this.fechaHasta).subscribe((pedidos:any)=>{  \n      this.buscando = false;\n      this.itemsPendientes = []; \n      this.itemsProceso = []; \n      this.itemsListas = [];  \n      this.itemsRechazados = [];   \n\n      this.loadingService.dismissLoading()               \n      this.pedidosAll = pedidos;   \n      console.log(this.pedidosAll) \n      this.filtrar(); \n    });\n  }\n\n\n  async presentAlertCrearCocinas() {\n    const alert = await this.alertController.create({\n      header: 'Agregar Cocina',\n      message: 'Debes agregar una cocina antes de continuar',\n      buttons: [\n        {  \n          text: 'Ok',\n          handler: () => {\n            this.router.navigate(['list-cocinas']);\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n\n  onChangeAtras(event){\n    this.fechaDesde.setDate(this.fechaDesde.getDate() - Number(event.target.value));\n    this.refrescar()   \n  }\n  \n  onChange(event){\n    this.palabraFiltro = event.target.value;    \n    this.refrescar();\n  }\n \n  onChangeCocina(event){\n    this.cocinaFiltro = event.target.value;\n    this.refrescar();\n  }\n\n  segmentChanged(event){\n    this.seccionActiva = event.target.value;\n  }\n\n  filtrar(){ \n\n    this.itemsPendientes = []; \n    this.itemsListas = [];\n    this.itemsProceso = [];\n    this.itemsRechazados = [];\n\n    var retorno = false;\n\n    this.pedidosAll.forEach(item => { \n            \n      var encontrado = false;      \n      \n      if(this.cocinaFiltro.length > 0){\n        this.cocinaFiltro.forEach(cocina =>{             \n          item.items.forEach(prod => {\n            if(prod.cocinaId == cocina){\n              encontrado = true;  \n            } \n          });        \n        })\n      }\n      else{\n        encontrado = true\n      }\n      \n      \n      if(encontrado){\n       \n        if(this.palabraFiltro != \"\"){\n\n          encontrado = false;\n\n          var palabra = this.palabraFiltro.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\")     \n        \n          if(item.clienteNombre){\n            retorno =  (item.clienteNombre.toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").indexOf(palabra.toLowerCase()) > -1);\n            if(retorno) \n              encontrado = true;\n          }\n\n          if(item.mesaNombre){\n            retorno =  (item.mesaNombre.toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").indexOf(palabra.toLowerCase()) > -1);\n            if(retorno)\n              encontrado = true;\n          }   \n          \n          if(item.empleadoEmail){\n            retorno =  (item.empleadoEmail.toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").indexOf(palabra.toLowerCase()) > -1);\n            if(retorno)\n              encontrado = true;\n          }  \n        } \n        else{\n          encontrado = true;\n        }   \n      } \n      if(encontrado){ \n        console.log(true)\n\n        if(item.comanda.estado == EnumEstadoCocina.rechazado){\n          this.itemsRechazados.push(item);\n        }\n        if(item.comanda.estado == EnumEstadoCocina.solicitado){\n          this.itemsPendientes.push(item);\n        }\n        if(item.comanda.estado == EnumEstadoCocina.tomado){\n          this.itemsProceso.push(item);\n        }\n        if(item.comanda.estado == EnumEstadoCocina.completo){\n          this.itemsListas.push(item);\n        }\n      }\n      return true; \n    })  \n  }\n\n  nuevoPedido(){\n    this.router.navigate(['list-productos-servicios',{carritoIntended:'list-comandas-v2'}])\n  }\n\n  async abrir(item){\n    console.log(item)\n    let editarPedido = new Pedido();\n    editarPedido.asignarValores(item);\n    \n    this.navParametrosService.param = editarPedido;\n   // this.router.navigate(['details-pedido'])\n\n    const modal = await this.modalController.create({\n      component: DetailsComandaPage, \n      id:'detail-comanda'      \n    });\n    modal.onDidDismiss()\n    .then((retorno) => {\n      this.refrescar()\n    })\n\n    \n    await modal.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}