{"version":3,"sources":["./src/app/form-extraccion-cta-corriente/form-extraccion-cta-corriente.page.html","./src/app/Services/modal-notificacion.service.ts","./src/app/form-extraccion-cta-corriente/form-extraccion-cta-corriente-routing.module.ts","./src/app/form-extraccion-cta-corriente/form-extraccion-cta-corriente.module.ts","./src/app/form-extraccion-cta-corriente/form-extraccion-cta-corriente.page.scss","./src/app/form-extraccion-cta-corriente/form-extraccion-cta-corriente.page.ts"],"names":[],"mappings":"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","file":"form-extraccion-cta-corriente-form-extraccion-cta-corriente-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Realizar Extracción</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <form [formGroup]=\\\"datosForm\\\" > \\n    <div class=\\\"form-card\\\">  \\n      <ion-text color=\\\"primary\\\">\\n        <h4>Monto *</h4>        \\n      </ion-text>        \\n      <ion-item class=\\\"item-card\\\">\\n        <ion-input name=\\\"monto\\\" type=\\\"number\\\" formControlName=\\\"monto\\\" required></ion-input>\\n      </ion-item>\\n    </div>\\n\\n    <ion-item class=\\\"item-card\\\">\\n      <ion-label position=\\\"floating\\\">Caja</ion-label>\\n      <ion-select [(ngModel)]=\\\"cajaSeleccionada\\\" (ionChange)=\\\"seleccionarCaja()\\\" [ngModelOptions]=\\\"{standalone: true}\\\">\\n        <ion-select-option *ngFor=\\\"let caja of cajas\\\" [value]=\\\"caja\\\" selected>{{caja.nombre}}</ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n\\n    <ion-item class=\\\"item-card\\\">\\n      <ion-label position=\\\"floating\\\">Método de Pago</ion-label>\\n      <ion-select [(ngModel)]=\\\"metodoPagoSeleccionado\\\" (ionChange)=\\\"setearMetodoPago()\\\" [ngModelOptions]=\\\"{standalone: true}\\\">\\n        <ion-select-option *ngIf=\\\"caja.efectivo\\\" [value]=\\\"'efectivo'\\\">Efectivo</ion-select-option>\\n        <ion-select-option *ngIf=\\\"caja.debito\\\" [value]=\\\"'debito'\\\">Débito</ion-select-option>\\n        <ion-select-option *ngIf=\\\"caja.credito\\\" [value]=\\\"'credito'\\\">Crédito</ion-select-option>\\n      </ion-select>    \\n    </ion-item>\\n\\n    <ion-item *ngIf=\\\"!cliente.id\\\" class=\\\"item-card\\\">\\n      <ion-button  size=\\\"large\\\" (click)=\\\"seleccionarCliente()\\\"  expand=\\\"block\\\">Seleccionar Cliente * </ion-button>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"cliente.id\\\" class=\\\"item-card\\\">\\n      <ion-avatar slot=\\\"start\\\" (click)=\\\"seleccionarCliente()\\\">\\n        <img src=\\\"{{cliente.foto}}\\\" *ngIf=\\\"cliente.foto\\\">\\n        <ion-icon name=\\\"person\\\" *ngIf=\\\"!cliente.foto\\\"></ion-icon>\\n      </ion-avatar>\\n      <ion-label (click)=\\\"seleccionarCliente()\\\">\\n        <h2>{{cliente.nombre}}</h2>\\n        <h3>{{cliente.email}}</h3>\\n      </ion-label>      \\n      <ion-button color=\\\"danger\\\" slot=\\\"end\\\" (click)=\\\"eliminarCliente()\\\"><ion-icon name=\\\"trash\\\"></ion-icon></ion-button>       \\n    </ion-item>\\n\\n    <div class=\\\"form-card\\\">\\n      <ion-text color=\\\"primary\\\">\\n        <h4>Motivo</h4>\\n      </ion-text> \\n      <ion-item>\\n        <ion-textarea formControlName=\\\"motivo\\\"></ion-textarea>\\n      </ion-item>     \\n    </div>\\n  \\n  </form>\\n  <ion-toolbar>\\n    <ion-button slot=\\\"end\\\" (click)=\\\"guardar()\\\">Guardar</ion-button>    \\n    <ion-button slot=\\\"start\\\"  color=\\\"light\\\" (click)=\\\"cancelar()\\\">Cancelar</ion-button>\\n  </ion-toolbar>\\n\\n</ion-content>\";","import { Injectable } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { ModalNotificacionPage } from '../modal-notificacion/modal-notificacion.page';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ModalNotificacionService {\n\n  constructor(\n    private modalController:ModalController\n  ) { }\n\n  async success(titulo,subtitulo){\n    const modal = await this.modalController.create({\n      component: ModalNotificacionPage,\n      componentProps:{titulo:titulo, subtitulo:subtitulo,iconOk:true},\n      cssClass: 'modal-notificacion-wrapper moda-succes-border' ,\n      id:\"notificacion\"     \n    });\n    \n    modal.present().then(()=>{\n      setTimeout(()=>{\n        modal.dismiss()\n      },500)\n\n    })\n  }\n\n  async trash(titulo,subtitulo){\n    const modal = await this.modalController.create({\n      component: ModalNotificacionPage,\n      componentProps:{titulo:titulo, subtitulo:subtitulo,iconTrash:true,iconOk:false},\n      cssClass: 'modal-notificacion-wrapper modal-error-border'      \n    });\n    \n    modal.present().then(()=>{\n      setTimeout(()=>{\n        modal.dismiss()\n      },300)\n\n    })\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FormExtraccionCtaCorrientePage } from './form-extraccion-cta-corriente.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FormExtraccionCtaCorrientePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FormExtraccionCtaCorrientePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FormExtraccionCtaCorrientePageRoutingModule } from './form-extraccion-cta-corriente-routing.module';\n\nimport { FormExtraccionCtaCorrientePage } from './form-extraccion-cta-corriente.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    FormExtraccionCtaCorrientePageRoutingModule\n  ],\n  declarations: [FormExtraccionCtaCorrientePage]\n})\nexport class FormExtraccionCtaCorrientePageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Zvcm0tZXh0cmFjY2lvbi1jdGEtY29ycmllbnRlL2Zvcm0tZXh0cmFjY2lvbi1jdGEtY29ycmllbnRlLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { Cliente } from '../models/cliente';\nimport { ModalController, NavController } from '@ionic/angular';\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\nimport { AuthenticationService } from '../Services/authentication.service';\nimport { Subscription } from 'rxjs';\nimport { CarritoService } from '../Services/global/carrito.service';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { CajasService } from '../Services/cajas.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { Caja } from '../models/caja';\nimport { MovimientoCtaCorriente } from '../models/movimientoCtaCorriente';\nimport { EnumTipoMovimientoCaja, MovimientoCaja } from '../models/movimientoCaja';\nimport { MovimientosService } from '../Services/movimientos.service';\nimport { ToastService } from '../Services/toast.service';\nimport { SelectClientePage } from '../select-cliente/select-cliente.page';\n\n@Component({\n  selector: 'app-form-extraccion-cta-corriente',\n  templateUrl: './form-extraccion-cta-corriente.page.html',\n  styleUrls: ['./form-extraccion-cta-corriente.page.scss'],\n})\nexport class FormExtraccionCtaCorrientePage implements OnInit {\n\n  private enumTipoMovimientoCaja = EnumTipoMovimientoCaja\n  \n  public monto = 0;\n  private extraccion:MovimientoCtaCorriente;\n  public cliente:Cliente;\n  public cajas=[];\n  public caja:Caja;\n  public cajaSeleccionada:any;\n  datosForm: FormGroup; \n  public submitted = false;\n\n  public ctaSubs:Subscription;\n  public clienteSubs:Subscription;\n\n  public updating:boolean = false;\n  public titulo = \"Nuevo Cta. Corriente\";\n\n  public metodoPagoSeleccionado=\"\";\n\n  constructor(\n    private modalController:ModalController,\n    private navCtrl:NavController,\n    private formBuilder: FormBuilder,\n    private authenticationService:AuthenticationService,\n    private carritoService:CarritoService,\n    private firestore:AngularFirestore,\n    private cajasService:CajasService,\n    public route:ActivatedRoute,\n    private movimientosService:MovimientosService,\n    private toastServices:ToastService\n  ) { \n\n    this.extraccion = new MovimientoCtaCorriente(this.authenticationService.getUID(),this.authenticationService.getNombre());\n    this.extraccion.id = this.firestore.createId();\n    this.extraccion.ctaCorrienteId = this.route.snapshot.params.id;\n\n    this.cliente = new Cliente();\n    this.caja = new Caja();\n  }\n\n  ngOnInit() {\n\n    this.datosForm = this.formBuilder.group({\n      monto: ['', Validators.required],          \n      clienteId:['', Validators.required],\n      cajaId:['', Validators.required],\n      metodoPago:['',Validators.required],\n      motivo:['']   \n    });\n\n    \n    this.cajasService.list().subscribe((cajas:any)=>{                 \n      this.cajas =cajas;\n      \n    });\n    \n  }\n\n  ionViewDidEnter(){\n    \n  }\n\n  setearCliente(cliente){\n    this.cliente = cliente;\n    this.datosForm.patchValue({\n      clienteId:cliente.id\n    });\n    this.carritoService.setearCliente(cliente);\n  }\n\n  setearMetodoPago(){\n    console.log(this.metodoPagoSeleccionado)\n    this.extraccion.metodoPago = this.metodoPagoSeleccionado;\n    this.datosForm.patchValue({\n      metodoPago:this.metodoPagoSeleccionado\n    });\n  }\n\n\n  async seleccionarCliente(){\n    const modal = await this.modalController.create({\n      component: SelectClientePage      \n    });\n    modal.onDidDismiss()\n    .then((retorno) => {\n      if(retorno.data){\n        \n        this.setearCliente(retorno.data.item);\n      }        \n    });\n    return await modal.present();\n  }\n\n  seleccionarCaja(){\n    this.caja.asignarValores(this.cajaSeleccionada);\n    this.datosForm.patchValue({\n      cajaId:this.caja.id\n    });\n  }\n\n  obtenerDatos(){\n\n    let comercio_seleccionadoId = localStorage.getItem('comercio_seleccionadoId');\n    this.cajasService.get(this.datosForm.controls.cajaId.value).subscribe(caja=>{      \n      this.caja = caja;\n    })\n  }\n\n  get f() { return this.datosForm.controls; }\n\n  guardar(){   \n\n    console.log(this.datosForm.controls.motivo.value+\"!!!!!!!!!!!!!!!!!\")\n    this.submitted = true;\n\n    if (this.datosForm.invalid) {\n      this.toastServices.alert('Por favor completar todos los campos marcados con * antes de continuar',\"\");\n      return;\n    } \n\n    this.extraccion.asignarValores(this.datosForm.value);\n\n\n    var pago = new MovimientoCaja(this.authenticationService.getUID(), this.authenticationService.getNombre());      \n    pago.id = this.firestore.createId();\n    pago.tipo = this.enumTipoMovimientoCaja.pago;\n    pago.clienteId = this.cliente.id;\n    pago.cajaId = this.caja.id;\n    pago.metodoPago = this.metodoPagoSeleccionado;\n    pago.ctaCorrienteId = this.extraccion.ctaCorrienteId;\n    pago.extraccionId = this.extraccion.id;\n    pago.monto = -this.extraccion.monto;\n    pago.motivo=\"Extraccion de cuenta corriente, cliente:\"+this.cliente.nombre;   \n    this.movimientosService.add(pago).then((data:any)=>{\n      this.extraccion.cajaId =this.caja.id;\n      this.extraccion.pagoId = data.id;\n      this.extraccion.monto = - this.extraccion.monto;\n      this.extraccion.motivo = pago.motivo;     \n      this.movimientosService.crearMovimientoCtaCorriente(this.extraccion);   \n    })\n\n    //this.carritoService.setearCaja(this.datosForm.controls.cajaId.value); \n\n \n\n    this.navCtrl.back();\n  }\n\n  eliminarCliente(){\n    this.cliente = new Cliente();\n  }\n\n  cancelar(){\n    this.navCtrl.back();\n  }\n\n  \n\n}\n"],"sourceRoot":"webpack:///"}