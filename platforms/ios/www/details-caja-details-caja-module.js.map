{"version":3,"sources":["./src/app/details-caja/details-caja.page.html","./src/app/details-caja/details-caja-routing.module.ts","./src/app/details-caja/details-caja.module.ts","./src/app/details-caja/details-caja.page.scss","./src/app/details-caja/details-caja.page.ts"],"names":[],"mappings":"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","file":"details-caja-details-caja-module.js","sourcesContent":["export default \"<ion-header>  \\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title  size=\\\"small\\\">Cajas</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  \\n  \\n\\n  <ion-item>  \\n    <div slot=\\\"start\\\">\\n      <ion-icon name=\\\"file-tray-full-outline\\\"></ion-icon>\\n    </div>      \\n    <ion-label>\\n      <b>{{caja.nombre}}</b> \\n      <p>Efectivo: {{caja.totalEfectivo | currency}} <br> Débito: {{caja.totalDebito | currency}} <br> Crédito: {{caja.totalCredito | currency}}</p>        \\n    </ion-label>   \\n  </ion-item> \\n  \\n  <ion-toolbar>\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col>\\n          <ion-button *ngIf=\\\"caja.estado =='abierta'\\\" class=\\\"button-rounded\\\" (click)=\\\"irEgreso()\\\"  expand=\\\"block\\\">Egreso</ion-button>\\n        </ion-col>\\n        <ion-col>\\n          <ion-button *ngIf=\\\"caja.estado =='abierta'\\\" class=\\\"button-rounded\\\" (click)=\\\"irIngreso()\\\"  expand=\\\"block\\\">Ingreso</ion-button>\\n        </ion-col>\\n        <ion-col>\\n          <ion-button *ngIf=\\\"caja.estado =='abierta'\\\" class=\\\"button-rounded\\\" color=\\\"danger\\\" (click)=\\\"irCierre()\\\"  expand=\\\"block\\\">Cierre</ion-button>\\n          <ion-button *ngIf=\\\"caja.estado =='cerrada'\\\" class=\\\"button-rounded\\\" color=\\\"primary\\\" (click)=\\\"irApertura()\\\"  expand=\\\"block\\\">Abrir</ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>    \\n  </ion-toolbar>\\n\\n  <ion-item class=\\\"form-select\\\" *ngIf=\\\"comercio.config.movimientosCajas\\\"> \\n    <ion-label position=\\\"floating\\\">Desde</ion-label>\\n    <ion-select multiple=false (ionChange)=\\\"onChangeAtras($event)\\\">\\n      <ion-select-option  [value]=\\\"1\\\" selected>Ayer</ion-select-option>\\n      <ion-select-option  [value]=\\\"2\\\">2 días atras</ion-select-option>\\n      <ion-select-option  [value]=\\\"7\\\">Una semana atrás</ion-select-option>\\n    </ion-select>       \\n  </ion-item>  \\n\\n  <ion-list lines=\\\"none\\\"> \\n    <div *ngFor=\\\"let item of items\\\" >\\n    <ion-item-sliding \\n    [ngClass]=\\\"{  \\n      'item-card': true, \\n      'pago-card': item.pago, \\n      'cierre-card': item.cierre,\\n      'egreso-card': item.egreso\\n    }\\\"\\n    >\\n    <ion-item (click)=seleccionar(item)>\\n      \\n      <div style=\\\"color:#50b223\\\" *ngIf=\\\"item.tipo == enumTipoMovimientoCaja.pago\\\">\\n        <ion-icon name=\\\"caret-up-circle-outline\\\"></ion-icon>\\n      </div> \\n\\n      <div style=\\\"color:#50b223\\\" *ngIf=\\\"item.tipo == enumTipoMovimientoCaja.ingreso\\\">\\n        <ion-icon name=\\\"caret-up-circle-outline\\\"></ion-icon>\\n      </div> \\n    \\n      <div style=\\\"color:#b22323\\\" *ngIf=\\\"item.tipo == enumTipoMovimientoCaja.egreso\\\">\\n        <ion-icon name=\\\"caret-down-circle-outline\\\"></ion-icon>\\n      </div>  \\n      \\n      <div style=\\\"color:#b223b2\\\" *ngIf=\\\"item.tipo == enumTipoMovimientoCaja.cierre\\\">\\n        <ion-icon name=\\\"caret-down-circle-outline\\\"></ion-icon>\\n      </div>\\n\\n      <div style=\\\"color:#2350b2\\\" *ngIf=\\\"item.tipo == enumTipoMovimientoCaja.apertura\\\">\\n        <ion-icon name=\\\"caret-down-circle-outline\\\"></ion-icon>\\n      </div>\\n\\n      <ion-label *ngIf=\\\"item.tipo == enumTipoMovimientoCaja.pago\\\" class=\\\"ion-text-wrap\\\">\\n        <h2>Pago: <b>{{item.monto | currency}}</b> en {{item.metodoPago}}</h2>     \\n        <p>\\n          {{item.motivo}}\\n        </p>     \\n        <p style=\\\"font-size: 12px;\\\" >\\n          {{item.vendedorNombre}} - {{item.createdAt.toDate() | date:'dd/MM/yyyy (EEE) - hh:mm aaa'}}\\n        </p>           \\n      </ion-label>    \\n\\n      <ion-label *ngIf=\\\"item.tipo == enumTipoMovimientoCaja.ingreso\\\" class=\\\"ion-text-wrap\\\">\\n        <h2>Ingreso: <b>{{item.monto | currency}}</b> en {{item.metodoPago}}</h2>     \\n        <p>\\n          {{item.motivo}}\\n        </p>     \\n        <p style=\\\"font-size: 12px;\\\" >\\n          {{item.vendedorNombre}} - {{item.createdAt.toDate() | date:'dd/MM/yyyy (EEE) - hh:mm aaa'}}\\n        </p>           \\n      </ion-label> \\n\\n      <ion-label *ngIf=\\\"item.tipo == enumTipoMovimientoCaja.egreso\\\" class=\\\"ion-text-wrap\\\">\\n        <h2>Egreso: <b>{{item.monto | currency}}</b> en {{item.metodoPago}}</h2>         \\n        <p>\\n          {{item.motivo}}\\n        </p> \\n        <p style=\\\"font-size: 12px;\\\" >\\n          {{item.vendedorNombre}} - {{item.createdAt.toDate() | date:'dd/MM/yyyy (EEE) - hh:mm aaa'}}\\n        </p>           \\n      </ion-label>  \\n\\n      <ion-label *ngIf=\\\"item.tipo == enumTipoMovimientoCaja.cierre\\\" class=\\\"ion-text-wrap\\\">\\n        <h2>Cierre: <b>{{item.monto | currency}}</b> \\n          <span *ngIf=\\\"item.metodoPago == 'efectivo'\\\"> en efectivo</span>\\n          <span *ngIf=\\\"item.metodoPago == 'debito'\\\"> en débito</span>\\n          <span *ngIf=\\\"item.metodoPago == 'credito'\\\"> en crédito</span>\\n        </h2>         \\n        <p>\\n          Cierer de Caja\\n        </p> \\n        <p style=\\\"font-size: 12px;\\\">\\n          {{item.vendedorNombre}} - {{item.createdAt.toDate() | date:'dd/MM/yyyy (EEE) - hh:mm aaa'}}\\n        </p>           \\n      </ion-label>   \\n\\n\\n      <ion-label *ngIf=\\\"item.tipo == enumTipoMovimientoCaja.apertura\\\" class=\\\"ion-text-wrap\\\">\\n        <h2>Apertura: <b>{{item.monto | currency}}</b> \\n          <span *ngIf=\\\"item.metodoPago == 'efectivo'\\\"> en efectivo</span>\\n          <span *ngIf=\\\"item.metodoPago == 'debito'\\\"> en débito</span>\\n          <span *ngIf=\\\"item.metodoPago == 'credito'\\\"> en crédito</span>\\n        </h2>         \\n        <p>\\n          Apertura de Caja\\n        </p> \\n        <p style=\\\"font-size: 12px;\\\">\\n          {{item.vendedorNombre}} - {{item.createdAt.toDate() | date:'dd/MM/yyyy (EEE) - hh:mm aaa'}}\\n        </p>           \\n      </ion-label>  \\n\\n\\n    </ion-item>\\n    <ion-item-options side=\\\"end\\\">\\n      <ion-item-option color=\\\"danger\\\" (click)=\\\"eliminar(item)\\\"><ion-icon name=\\\"trash\\\" ></ion-icon> Eliminar</ion-item-option>\\n    </ion-item-options>\\n\\n  </ion-item-sliding>\\n</div>  \\n  \\n</ion-list>\\n \\n  \\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetailsCajaPage } from './details-caja.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetailsCajaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DetailsCajaPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetailsCajaPageRoutingModule } from './details-caja-routing.module';\n\nimport { DetailsCajaPage } from './details-caja.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DetailsCajaPageRoutingModule\n  ],\n  declarations: [DetailsCajaPage]\n})\nexport class DetailsCajaPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2RldGFpbHMtY2FqYS9kZXRhaWxzLWNhamEucGFnZS5zY3NzIn0= */\";","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { ComerciosService } from '../Services/comercios.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CajasService } from '../Services/cajas.service';\nimport { VentasService } from '../Services/ventas.service';\nimport { LoadingService } from '../Services/loading.service';\nimport { AlertController, ModalController } from '@ionic/angular';\nimport { Caja } from '../models/caja';\nimport { EnumTipoMovimientoCaja, MovimientoCaja } from '../models/movimientoCaja';\nimport { MovimientosService } from '../Services/movimientos.service';\nimport { Comercio } from '../models/comercio';\nimport { PedidoService } from '../Services/pedido.service';\nimport { Pedido } from '../models/pedido';\nimport { NavegacionParametrosService } from '../Services/global/navegacion-parametros.service';\nimport { DetailsPedidoPage } from '../details-pedido/details-pedido.page';\n\n@Component({\n  selector: 'app-details-caja',\n  templateUrl: './details-caja.page.html',\n  styleUrls: ['./details-caja.page.scss'],\n})\nexport class DetailsCajaPage implements OnInit {\n\n  public enumTipoMovimientoCaja = EnumTipoMovimientoCaja\n  \n  public items:MovimientoCaja[] = [];\n  public caja:Caja;\n  \n  public totalGeneral = 0;\n\n  public optionCaja = \"\";\n\n  public fechaDesde = new Date();\n\n  public comercio:Comercio\n\n  public totales = {\n    efectivo: 0,\n    debito:0,\n    credito:0,\n    ctaCorriente:0,\n    general:0\n  }\n  constructor(\n    public cajasService:CajasService,\n    public ventasServices:VentasService,\n    public router:Router,\n    public loadingService:LoadingService,\n    public alertController:AlertController,\n    private movimientosService:MovimientosService,\n    private route:ActivatedRoute,\n    private comercioService:ComerciosService,\n    private pedidosService:PedidoService,\n    public navParametrosService:NavegacionParametrosService,\n    private modalController:ModalController,\n    public changeRef:ChangeDetectorRef,\n  ) { \n    this.comercio = new Comercio()\n    this.caja = new Caja();\n    this.caja.id = this.route.snapshot.params.id;\n    this.fechaDesde.setDate(this.fechaDesde.getDate() - 1);\n\n    this.comercio = this.comercioService.getSelectedCommerceValue()\n    if(this.comercio.config.movimientosCajas){\n      this.movimientosService.setearPath(this.caja.id)\n      this.movimientosService.getMovimientosCaja(this.caja.id,this.fechaDesde).subscribe(data =>{\n      \n        this.items = data;\n        console.log(this.items)     \n      }); \n    }\n\n  }\n\n  ngOnInit() {\n    \n  }\n\n  onChangeAtras(event){\n    this.fechaDesde.setDate(this.fechaDesde.getDate() - Number(event.target.value));\n    this.refrescar()   \n  }\n\n  refrescar(){\n    \n    this.cajasService.get(this.caja.id).subscribe(data=>{\n      this.caja.asignarValores(data);\n      console.log(data)\n      console.log(\"Cambiando valores de caja!\")\n      this.changeRef.detectChanges()   \n    })\n    \n  }\n\n  ionViewDidEnter(){    \n    \n    this.refrescar();        \n          \n  }\n\n\n  ionViewDidLeave(){\n    \n  }\n  \n  irEgreso(){\n    this.router.navigate(['form-egreso-caja',\n    {\n      cajaId:this.caja.id,\n      totalActual: this.caja.totalEfectivo\n    }\n    ]);\n  }\n\n  irIngreso(){\n    this.router.navigate(['form-ingreso-caja',\n    {\n      cajaId:this.caja.id\n    }\n    ]);\n  }\n\n  irCierre(){\n    this.router.navigate(['form-cierre-caja',\n      {\n        cajaId:this.caja.id,\n      }\n    ]);\n  }\n\n  irApertura(){\n    this.router.navigate(['form-apertura-caja',\n      {\n        cajaId:this.caja.id,\n      }\n    ]);\n  }\n\n  async eliminar(item){\n\n    const alert = await this.alertController.create({\n      header: 'Está seguro que desea eliminar el movimiento?',\n      message: 'Se perderán los registros del mismo',\n      buttons: [\n        {\n          text: 'Cancelar',\n          handler: (blah) => {\n            \n          }\n        }, {\n          text: 'Eliminar',\n          handler: () => {  \n\n            \n            this.movimientosService.eliminarMovimientoCaja(this.caja,item);\n            this.refrescar();\n          }\n        }\n      ]\n    });\n    await alert.present();    \n  }\n\n  seleccionar(item){\n    if(item.pedidoId){\n      let obs = this.pedidosService.get(item.pedidoId).subscribe(async data=>{\n\n        let editarPedido = new Pedido();\n        editarPedido.asignarValores(data);\n        \n        this.navParametrosService.param = editarPedido;\n      // this.router.navigate(['details-pedido'])\n\n        const modal = await this.modalController.create({\n          component: DetailsPedidoPage,\n          id:'detail-pedido'      \n        });\n        modal.onDidDismiss()\n        .then((retorno) => {\n          this.refrescar()\n        })\n\n        \n        await modal.present();  \n      })\n    }\n  }\n\n\n}\n"],"sourceRoot":"webpack:///"}